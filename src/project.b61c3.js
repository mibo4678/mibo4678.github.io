window.__require=function t(i,e,s){function n(a,h){if(!e[a]){if(!i[a]){var c=a.split("/");if(c=c[c.length-1],!i[c]){var r="function"==typeof __require&&__require;if(!h&&r)return r(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+a+"'")}}var d=e[a]={exports:{}};i[a][0].call(d.exports,function(t){return n(i[a][1][t]||t)},d,d.exports,t,i,e,s)}return e[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<s.length;a++)n(s[a]);return n}({Card:[function(t,i,e){"use strict";cc._RF.push(i,"44d34nobY9P1qPdyGXRBtlE","Card"),cc.Class({extends:cc.Component,properties:{spBack:cc.Sprite,point:cc.Sprite,point_back:cc.Sprite,suit:cc.Sprite,suit_big:cc.Sprite,texPointRed:{default:[],type:[cc.SpriteFrame]},texPointBlack:{default:[],type:[cc.SpriteFrame]},texSuit:{default:[],type:[cc.SpriteFrame]},texSuitBig:{default:[],type:[cc.SpriteFrame]},_bIsSelected:!1,pointNum:1,pointColor:cc.String},initCard:function(t,i){"s"==t&&(this.suit.spriteFrame=this.texSuitBig[0],this.point.spriteFrame=this.texPointBlack[i],this.pointColor="black",this.pointNum=i),"h"==t&&(this.suit.spriteFrame=this.texSuitBig[1],this.point.spriteFrame=this.texPointRed[i],this.pointColor="red",this.pointNum=i),"c"==t&&(this.suit.spriteFrame=this.texSuitBig[2],this.point.spriteFrame=this.texPointBlack[i],this.pointColor="black",this.pointNum=i),"d"==t&&(this.suit.spriteFrame=this.texSuitBig[3],this.point.spriteFrame=this.texPointRed[i],this.pointColor="red",this.pointNum=i)},onLoad:function(){this.handleControl()},start:function(){},handleControl:function(){}}),cc._RF.pop()},{}],FCCardNode:[function(t,i,e){"use strict";function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}cc._RF.push(i,"b9419E19a9DIYUwA3+Fhti+","FCCardNode"),window.FREE_NONE=0,window.FIRST_KING=1,window.SECOND_KING=2,window.HEI_A=17,window.HONG_A=18,window.MEI_A=19,window.FANG_A=20,window.HEI_TWO=33,window.HONG_TWO=34,window.MEI_TWO=35,window.FANG_TWO=36,window.HEI_THREE=49,window.HONG_THREE=50,window.MEI_THREE=51,window.FANG_THREE=52,window.HEI_FORE=65,window.HONG_FORE=66,window.MEI_FORE=67,window.FANG_FORE=68,window.HEI_FIVE=81,window.HONG_FIVE=82,window.MEI_FIVE=83,window.FANG_FIVE=84,window.HEI_SIX=97,window.HONG_SIX=98,window.MEI_SIX=99,window.FANG_SIX=100,window.HEI_SEVEN=113,window.HONG_SEVEN=114,window.MEI_SEVEN=115,window.FANG_SEVEN=116,window.HEI_EIGHT=129,window.HONG_EIGHT=130,window.MEI_EIGHT=131,window.FANG_EIGHT=132,window.HEI_NINE=145,window.HONG_NINE=146,window.MEI_NINE=147,window.FANG_NINE=148,window.HEI_TEN=161,window.HONG_TEN=162,window.MEI_TEN=163,window.FANG_TEN=164,window.HEI_ELEVEN=177,window.HONG_ELEVEN=178,window.MEI_ELEVEN=179,window.FANG_ELEVEN=180,window.HEI_TWELVE=193,window.HONG_TWELVE=194,window.MEI_TWELVE=195,window.FANG_TWELVE=196,window.HEI_THIRTEEN=209,window.HONG_THIRTEEN=210,window.MEI_THIRTEEN=211,window.FANG_THIRTEEN=212,window.BACK_LEN=50,window.MAX_CARD_COUNT=20,window.TPaneData=cc.Class({properties:{m_Data:[],m_MidTo:[],m_CardCount:20}});i.exports=function t(){s(this,t)},cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Gamefull:[function(t,i,e){"use strict";cc._RF.push(i,"8a506QMKABN95kSPXU23C1L","Gamefull");var s=t("FCCardNode"),n=t("TFreeMange");cc.Class({extends:cc.Component,properties:{paiPrefab:{default:null,type:cc.Prefab},gameNume:1e3,put:{default:null,type:cc.AudioClip},anSound:{default:null,type:cc.AudioClip},shownum:cc.Node,msg:cc.Node,noway:cc.Node,tishi:cc.Node,gamemenu:cc.Node,isMoveState:!1,ifMove:!1,ifTempMove:!1,m_DealGroupNum:0,m_DealGroupRow:1,m_DealCount:0,isplay:!1,di1List:[],di2List:[],di3List:[],di4List:[],di5List:[],di6List:[],di7List:[],di8List:[],vGroup_1:0,vGroup_2:0,vGroup_3:0,vGroup_4:0,vGroup_5:0,vGroup_6:0,vGroup_7:0,vGroup_8:0,hui1list:[],hui2list:[],hui3list:[],hui4list:[],tempList:[],shoupaiNum:4,back:cc.Node,backPaiList:[],begin:{default:null,type:cc.Node},bmpAllCards:[],allCard:[],step:0,lastStep:0,deal:{default:null,type:cc.Node},content:{default:null,type:cc.Node}},start:function(){cc.debug.setDisplayStats(!1)},onLoad:function(){console.log("onLoad======="),this.msg.active=!1},newGameBeginBySting:function(){this.noway.active=!1,this.initGroup(),this.gameNume=this.tishi.getChildByName("newgamenum").getComponent(cc.EditBox).string,""==this.gameNume&&(this.gameNume=this.randomNum(1e4,1),console.log("newGameBeginBySting \u7f16\u53f7======="+this.gameNume)),this.tishi.active=!1,this.begin.active=!1,this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume},gamemenushow:function(){this.tishi.active=!0,this.begin.active=!1},newGameCancel:function(){this.tishi.zIndex=9999,this.tishi.active=!1},beginGame:function(){this.gameNume=this.randomNum(1e4,1),console.log("begin \u7f16\u53f7======="+this.gameNume),this.getBeginNum(this.gameNume),this.dealMove(),this.begin.active=!1},getBeginNum:function(t){console.log("getBeginNum======="+t),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+t,this.initGroup(),this.initPaiImange(),this.Begin(t),this.isBegin=!0},Begin:function(t){console.log("Begin======="+t),""==t&&(t=this.randomNum(1e4,1)),TPaneData.m_CardCount=0,TPaneData.m_Data=new Array;for(var i=0;i<8;i++){TPaneData.m_Data[i]=new Array;for(var e=0;e<MAX_CARD_COUNT;e++)TPaneData.m_Data[i][e]=new Array,TPaneData.m_Data[i][e]=FREE_NONE}TPaneData.m_MidTo=new Array;for(i=0;i<8;i++)TPaneData.m_MidTo[i]=FREE_NONE;var s,o;this.gameNume=t,this.cards=new Array,this.order=new Array;i=0;for(i=0;i<52;i++)this.order[i]=i;for(i=0;i<64;i++)this.cards[i]=-1;Math.seed=t;var a=1,h=1,c=1,r=1,d=1,l=1,u=1,m=1;for(this.di1List=new Array,this.di2List=new Array,this.di3List=new Array,this.di4List=new Array,this.di5List=new Array,this.di6List=new Array,this.di7List=new Array,this.di8List=new Array,i=0;i<52;i++){var g=this.random(1e8,1);switch(o=parseInt(g%(52-i)),s=(112&i)>>3|(7&i)<<3,this.cards[s]=this.order[o],this.order[o]=this.order[52-i-1],TPaneData.m_Data[i%8][parseInt(i/8)]=this.GetCARD(this.cards[s]%4,parseInt(this.cards[s]/4)),i%8){case 0:switch(parseInt(i/8)){case 0:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*a)),this.di1List.push(p),a++;break;case 1:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*h)),this.di2List.push(p),h++;break;case 2:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*c)),this.di3List.push(p),c++;break;case 3:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*r)),this.di4List.push(p),r++;break;case 4:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*d)),this.di5List.push(p),d++;break;case 5:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*l)),this.di6List.push(p),l++;break;case 6:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*u)),u++,this.di7List.push(p);break;case 7:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*m)),this.di8List.push(p),m++}break;case 1:case 2:case 3:case 4:case 5:case 6:case 7:switch(parseInt(i/8)){case 0:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*a)),this.di1List.push(p),a++;break;case 1:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*h)),this.di2List.push(p),h++;break;case 2:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*c)),this.di3List.push(p),c++;break;case 3:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*r)),this.di4List.push(p),r++;break;case 4:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*d)),this.di5List.push(p),d++;break;case 5:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*l)),this.di6List.push(p),l++;break;case 6:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*u)),this.di7List.push(p),u++;break;case 7:var p;(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*m)),this.di8List.push(p),m++}}}n.tFreeMange();for(var v=this.deal,C=this.di7List.length-1;C>=0;C--){var L=this.di7List[C].name,f=this.GetImgIndex(parseInt(L)),N=cc.instantiate(this.paiPrefab);N.name=this.bmpAllCards[f]+"",N.setPosition(cc.v2(v.x,v.y)),N.getComponent("Card").initCard(this.bmpAllCards[f].charAt(2),this.bmpAllCards[f].substr(3,2)),this.allCard.push(N),this.content.addChild(N)}for(var T=this.di6List.length-1;T>=0;T--){var _=this.di6List[T].name,b=this.GetImgIndex(parseInt(_)),x=cc.instantiate(this.paiPrefab);x.name=this.bmpAllCards[b]+"",x.setPosition(cc.v2(v.x,v.y)),x.getComponent("Card").initCard(this.bmpAllCards[b].charAt(2),this.bmpAllCards[b].substr(3,2)),this.allCard.push(x),this.content.addChild(x)}for(var E=this.di5List.length-1;E>=0;E--){var y=this.di5List[E].name,I=this.GetImgIndex(parseInt(y)),P=cc.instantiate(this.paiPrefab);P.name=this.bmpAllCards[I]+"",P.setPosition(cc.v2(v.x,v.y)),P.getComponent("Card").initCard(this.bmpAllCards[I].charAt(2),this.bmpAllCards[I].substr(3,2)),this.allCard.push(P),this.content.addChild(P)}for(var k=this.di4List.length-1;k>=0;k--){var D=this.di4List[k].name,B=this.GetImgIndex(parseInt(D)),w=cc.instantiate(this.paiPrefab);w.name=this.bmpAllCards[B]+"",w.setPosition(cc.v2(v.x,v.y)),w.getComponent("Card").initCard(this.bmpAllCards[B].charAt(2),this.bmpAllCards[B].substr(3,2)),this.allCard.push(w),this.content.addChild(w)}for(var G=this.di3List.length-1;G>=0;G--){var A=this.di3List[G].name,M=this.GetImgIndex(parseInt(A)),V=cc.instantiate(this.paiPrefab);V.name=this.bmpAllCards[M]+"",V.setPosition(cc.v2(v.x,v.y)),V.getComponent("Card").initCard(this.bmpAllCards[M].charAt(2),this.bmpAllCards[M].substr(3,2)),this.allCard.push(V),this.content.addChild(V)}for(var O=this.di2List.length-1;O>=0;O--){var R=this.di2List[O].name,H=this.GetImgIndex(parseInt(R)),F=cc.instantiate(this.paiPrefab);F.name=this.bmpAllCards[H]+"",F.setPosition(cc.v2(v.x,v.y)),F.getComponent("Card").initCard(this.bmpAllCards[H].charAt(2),this.bmpAllCards[H].substr(3,2)),this.allCard.push(F),this.content.addChild(F)}for(var S=this.di1List.length-1;S>=0;S--){var z=this.di1List[S].name,W=this.GetImgIndex(parseInt(z)),U=cc.instantiate(this.paiPrefab);U.name=this.bmpAllCards[W]+"",U.setPosition(cc.v2(v.x,v.y)),U.getComponent("Card").initCard(this.bmpAllCards[W].charAt(2),this.bmpAllCards[W].substr(3,2)),this.allCard.push(U),this.content.addChild(U)}this.cleanGroup()},dealMove:function(){this.cardTopHeight=500/13,0==this.isplay&&(this.current=cc.audioEngine.play(this.anSound,!0,1)),this.isplay=!0;var t=cc.callFunc(this.finished,this);switch(this.m_DealGroupNum++,this.m_DealGroupNum>8&&(this.m_DealGroupNum=1,this.m_DealGroupRow++),this.m_DealGroupNum){case 1:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==0)){var i=this.content.getChildByName("di1").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di1List.push(this.allCard[51-this.m_DealCount])}break;case 2:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==1)){i=this.content.getChildByName("di2").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di2List.push(this.allCard[51-this.m_DealCount])}break;case 3:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==2)){i=this.content.getChildByName("di3").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di3List.push(this.allCard[51-this.m_DealCount])}break;case 4:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==3)){i=this.content.getChildByName("di4").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di4List.push(this.allCard[51-this.m_DealCount])}break;case 5:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==4)){i=this.content.getChildByName("di5").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di5List.push(this.allCard[51-this.m_DealCount])}break;case 6:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==5)){i=this.content.getChildByName("di6").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di6List.push(this.allCard[51-this.m_DealCount])}break;case 7:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==6)){i=this.content.getChildByName("di7").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di7List.push(this.allCard[51-this.m_DealCount])}break;case 8:if(this.m_DealCount<52&&(this.m_DealCount++,this.m_DealCount%8==7)){i=this.content.getChildByName("di8").getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di8List.push(this.allCard[51-this.m_DealCount])}}},finished:function(){this.m_DealCount>=51&&(cc.audioEngine.stop(this.current),this.onVerticalCardTouch()),this.dealMove()},onVerticalCardTouchOFF:function(){console.log("==\u5148\u53d6\u6d88\u76d1\u542c\uff0c\u9632\u6b62\u5df2\u7ecf\u6709\u76d1\u542c\u91cd\u590d=");for(var t=0;t<this.allCard.length;t++)this.allCard[t].off(cc.Node.EventType.TOUCH_START),this.allCard[t].off(cc.Node.EventType.TOUCH_MOVE),this.allCard[t].off(cc.Node.EventType.TOUCH_END),this.allCard[t].opacity=180,this.allCard[t].color=new cc.Color(128,128,128)},onVerticalCardTouch:function(){var t,i;this.onVerticalCardTouchOFF();var e=this;this.tempList=new Array;for(var s=0;s<this.di1List.length;s++)this.di1List[s].zIndex=s;for(var n=0;n<this.di2List.length;n++)this.di2List[n].zIndex=n;for(var o=0;o<this.di3List.length;o++)this.di3List[o].zIndex=o;for(var a=0;a<this.di4List.length;a++)this.di4List[a].zIndex=a;for(var h=0;h<this.di5List.length;h++)this.di5List[h].zIndex=h;for(var c=0;c<this.di6List.length;c++)this.di6List[c].zIndex=c;for(var r=0;r<this.di7List.length;r++)this.di7List[r].zIndex=r;for(var d=0;d<this.di8List.length;d++)this.di8List[d].zIndex=d;for(var l=new Array,u=0;u<l.length;u++)l[u].off(cc.Node.EventType.TOUCH_START),l[u].off(cc.Node.EventType.TOUCH_MOVE),l[u].off(cc.Node.EventType.TOUCH_END);var m=0;if(this.di1List.length>0)if(1==this.di1List.length)l[m]=this.di1List[this.di1List.length-1],m++,this.vGroup_1=1;else{for(var g=0,p=this.di1List.length-1;p>0;p--){if(this.di1List[p-1].getComponent("Card").pointNum-this.di1List[p].getComponent("Card").pointNum!=1||this.di1List[p].getComponent("Card").pointColor==this.di1List[p-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di1List[this.di1List.length-1],m++;break}break}g++}if(this.vGroup_1=g+1,g>0)for(var v=this.di1List.length-1;g>=0;)l[m]=this.di1List[v],m++,v--,g--}if(this.di2List.length)if(1==this.di2List.length)l[m]=this.di2List[this.di2List.length-1],m++,this.vGroup_2=1;else{g=0;for(var C=this.di2List.length-1;C>0;C--){if(this.di2List[C-1].getComponent("Card").pointNum-this.di2List[C].getComponent("Card").pointNum!=1||this.di2List[C].getComponent("Card").pointColor==this.di2List[C-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di2List[this.di2List.length-1],m++;break}break}g++}if(this.vGroup_2=g+1,g>0)for(v=this.di2List.length-1;g>=0;)l[m]=this.di2List[v],m++,v--,g--}if(this.di3List.length>0)if(1==this.di3List.length)l[m]=this.di3List[this.di3List.length-1],m++,this.vGroup_3=1;else{g=0;for(var L=this.di3List.length-1;L>0;L--){if(this.di3List[L-1].getComponent("Card").pointNum-this.di3List[L].getComponent("Card").pointNum!=1||this.di3List[L].getComponent("Card").pointColor==this.di3List[L-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di3List[this.di3List.length-1],m++;break}break}g++}if(this.vGroup_3=g+1,g>0)for(v=this.di3List.length-1;g>=0;)l[m]=this.di3List[v],m++,v--,g--}if(this.di4List.length>0)if(1==this.di4List.length)l[m]=this.di4List[this.di4List.length-1],m++,this.vGroup_4=1;else{g=0;for(var f=this.di4List.length-1;f>0;f--){if(this.di4List[f-1].getComponent("Card").pointNum-this.di4List[f].getComponent("Card").pointNum!=1||this.di4List[f].getComponent("Card").pointColor==this.di4List[f-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di4List[this.di4List.length-1],m++;break}break}g++}if(this.vGroup_4=g+1,g>0)for(v=this.di4List.length-1;g>=0;)l[m]=this.di4List[v],m++,v--,g--}if(this.di5List.length>0)if(1==this.di5List.length)l[m]=this.di5List[this.di5List.length-1],m++,this.vGroup_5=1;else{g=0;for(var N=this.di5List.length-1;N>0;N--){if(this.di5List[N-1].getComponent("Card").pointNum-this.di5List[N].getComponent("Card").pointNum!=1||this.di5List[N].getComponent("Card").pointColor==this.di5List[N-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di5List[this.di5List.length-1],m++;break}break}g++}if(this.vGroup_5=g+1,g>0)for(v=this.di5List.length-1;g>=0;)l[m]=this.di5List[v],m++,v--,g--}if(this.di6List.length>0)if(1==this.di6List.length)l[m]=this.di6List[this.di6List.length-1],m++,this.vGroup_6=1;else{g=0;for(var T=this.di6List.length-1;T>0;T--){if(this.di6List[T-1].getComponent("Card").pointNum-this.di6List[T].getComponent("Card").pointNum!=1||this.di6List[T].getComponent("Card").pointColor==this.di6List[T-1].getComponent("Card").pointColor||T-(T-1)!=1){if(0==g){l[m]=this.di6List[this.di6List.length-1],m++;break}break}g++}if(this.vGroup_6=g+1,g>0)for(v=this.di6List.length-1;g>=0;)l[m]=this.di6List[v],m++,v--,g--}if(this.di7List.length>0)if(1==this.di7List.length)l[m]=this.di7List[this.di7List.length-1],m++,this.vGroup_7=1;else{g=0;for(var _=this.di7List.length-1;_>0;_--){if(this.di7List[_-1].getComponent("Card").pointNum-this.di7List[_].getComponent("Card").pointNum!=1||this.di7List[_].getComponent("Card").pointColor==this.di7List[_-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di7List[this.di7List.length-1],m++;break}break}g++}if(this.vGroup_7=g+1,g>0)for(v=this.di7List.length-1;g>=0;)l[m]=this.di7List[v],m++,v--,g--}if(this.di8List.length>0)if(1==this.di8List.length)l[m]=this.di8List[this.di8List.length-1],m++,this.vGroup_8=1;else{g=0;for(var b=this.di8List.length-1;b>0;b--){if(this.di8List[b-1].getComponent("Card").pointNum-this.di8List[b].getComponent("Card").pointNum!=1||this.di8List[b].getComponent("Card").pointColor==this.di8List[b-1].getComponent("Card").pointColor){if(0==g){l[m]=this.di8List[this.di8List.length-1],m++;break}break}g++}if(this.vGroup_8=g+1,g>0)for(v=this.di8List.length-1;g>=0;)l[m]=this.di8List[v],m++,v--,g--}for(var x=1,E=0;E<l.length;E++){var y=l[E];y.opacity=255,y.color=new cc.Color(255,255,255),y.on(cc.Node.EventType.TOUCH_START,function(s){if(x=e.getVerticalIndex(this),console.log("\u79fb\u52a8\u89e6\u6478\u7ad6\u5217=TOUCH_START==VerticalIndexNum==="+x),!1===e.ifMove&&0==e.ifTempMove){s.touch.getDelta();t=this.getPosition().x,i=this.getPosition().y,e.isMoveState=!1,e.ifMove=!0}},y),y.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(x=e.getVerticalIndex(this),1==e.ifMove&&0==e.ifTempMove){var i=t.touch.getDelta();e.movePai(x,i.x,i.y)}},y),y.on(cc.Node.EventType.TOUCH_END,function(s){if(x=e.getVerticalIndex(this),console.log("\u79fb\u52a8\u89e6\u6478\u7ad6\u5217=TOUCH_END==VerticalIndexNum==="+x),1==e.ifMove&&0==e.ifTempMove){this.opacity=255,cc.audioEngine.playEffect(e.put);var n=e.inNodeScopeToTemp(t,i,this,e.lin1,e.lin2,e.lin3,e.lin4,e.hui4,e.hui3,e.hui2,e.hui1,s),o=e.inNodeVerticalToVertical(x,this,s);console.log(" autoMoveBack ==movetempState=="+n+"==verticalisFor="+o),e.autoTo(n||o),e.ifMove=!1}},y),y.on(cc.Node.EventType.TOUCH_CANCEL,function(s){if(x=e.getVerticalIndex(this),1==e.ifMove&&0==e.ifTempMove){this.opacity=255,cc.audioEngine.playEffect(e.put);var n=e.inNodeScopeToTemp(t,i,this,e.lin1,e.lin2,e.lin3,e.lin4,e.hui4,e.hui3,e.hui2,e.hui1,s),o=e.inNodeVerticalToVertical(x,this,s);e.autoTo(n||o),e.ifMove=!1}},y)}for(var I=0;I<this.hui1list.length;I++)this.hui1list[I].opacity=255,this.hui1list[I].color=new cc.Color(255,255,255);for(var P=0;P<this.hui2list.length;P++)this.hui2list[P].opacity=255,this.hui2list[P].color=new cc.Color(255,255,255);for(var k=0;k<this.hui3list.length;k++)this.hui3list[k].opacity=255,this.hui3list[k].color=new cc.Color(255,255,255);for(var D=0;D<this.hui4list.length;D++)this.hui4list[D].opacity=255,this.hui4list[D].color=new cc.Color(255,255,255);for(var B=0;B<this.lin1list.length;B++)this.lin1list[B].opacity=255,this.lin1list[B].color=new cc.Color(255,255,255);for(var w=0;w<this.lin2list.length;w++)this.lin2list[w].opacity=255,this.lin2list[w].color=new cc.Color(255,255,255);for(var G=0;G<this.lin3list.length;G++)this.lin3list[G].opacity=255,this.lin3list[G].color=new cc.Color(255,255,255);for(var A=0;A<this.lin4list.length;A++)this.lin4list[A].opacity=255,this.lin4list[A].color=new cc.Color(255,255,255);console.log("==\u76d1\u542c\u4e34\u65f6\u4f4d\u7f6e\u89e6\u6478="+this.lin1list.length),this.lin1list.length>0&&this.onTempTouch(this.lin1list[this.lin1list.length-1]),this.lin2list.length>0&&this.onTempTouch(this.lin2list[this.lin2list.length-1]),this.lin3list.length>0&&this.onTempTouch(this.lin3list[this.lin3list.length-1]),this.lin4list.length>0&&this.onTempTouch(this.lin4list[this.lin4list.length-1])},testdata:function(){for(var t=0,i=0;i<MAX_CARD_COUNT;i++)0!=TPaneData.m_Data[0][i]&&t++;for(var e=0;e<this.di1List.length;e++)console.log("\u7b2c\u4e00\u7ad6\u5217\u6570\u636e="+this.di1List[e].name);console.log("\u7b2c1============"+t);for(var s=0;s<t;s++){var n=this.GetImgIndex(TPaneData.m_Data[0][s]);console.log("\u7b2c\u4e00\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di1List.length!=t&&alert("\u7b2c\u4e00\u7ad6\u4e0d\u4e00\u81f4");for(var o=0,a=0;a<MAX_CARD_COUNT;a++)0!=TPaneData.m_Data[1][a]&&o++;for(var h=0;h<this.di2List.length;h++)console.log("\u7b2c2\u7ad6\u5217\u6570\u636e="+this.di2List[h].name);console.log("\u7b2c2============"+o);for(var c=0;c<o;c++){n=this.GetImgIndex(TPaneData.m_Data[1][c]);console.log("\u7b2c2\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di2List.length!=o&&alert("\u7b2c2\u7ad6\u4e0d\u4e00\u81f4");for(var r=0,d=0;d<MAX_CARD_COUNT;d++)0!=TPaneData.m_Data[2][d]&&r++;for(var l=0;l<this.di3List.length;l++)console.log("\u7b2c3\u7ad6\u5217\u6570\u636e="+this.di3List[l].name);console.log("\u7b2c3============"+r);for(var u=0;u<r;u++){n=this.GetImgIndex(TPaneData.m_Data[2][u]);console.log("\u7b2c3\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di3List.length!=r&&alert("\u7b2c3\u7ad6\u4e0d\u4e00\u81f4");for(var m=0,g=0;g<MAX_CARD_COUNT;g++)0!=TPaneData.m_Data[3][g]&&m++;for(var p=0;p<this.di4List.length;p++)console.log("\u7b2c4\u7ad6\u5217\u6570\u636e="+this.di4List[p].name);console.log("\u7b2c4============"+m);for(var v=0;v<m;v++){n=this.GetImgIndex(TPaneData.m_Data[3][v]);console.log("\u7b2c4\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di4List.length!=m&&alert("\u7b2c4\u7ad6\u4e0d\u4e00\u81f4");for(var C=0,L=0;L<MAX_CARD_COUNT;L++)0!=TPaneData.m_Data[4][L]&&C++;for(var f=0;f<this.di5List.length;f++)console.log("\u7b2c5\u7ad6\u5217\u6570\u636e="+this.di5List[f].name);console.log("\u7b2c5============"+m);for(var N=0;N<C;N++){n=this.GetImgIndex(TPaneData.m_Data[4][N]);console.log("\u7b2c5\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di5List.length!=C&&alert("\u7b2c5\u7ad6\u4e0d\u4e00\u81f4");for(var T=0,_=0;_<MAX_CARD_COUNT;_++)0!=TPaneData.m_Data[5][_]&&T++;for(var b=0;b<this.di6List.length;b++)console.log("\u7b2c6\u7ad6\u5217\u6570\u636e="+this.di6List[b].name);console.log("\u7b2c6============"+m);for(var x=0;x<T;x++){n=this.GetImgIndex(TPaneData.m_Data[5][x]);console.log("\u7b2c6\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di6List.length!=T&&alert("\u7b2c6\u7ad6\u4e0d\u4e00\u81f4");for(var E=0,y=0;y<MAX_CARD_COUNT;y++)0!=TPaneData.m_Data[6][y]&&E++;for(var I=0;I<this.di7List.length;I++)console.log("\u7b2c7\u7ad6\u5217\u6570\u636e="+this.di7List[I].name);console.log("\u7b2c7============"+E);for(var P=0;P<E;P++){n=this.GetImgIndex(TPaneData.m_Data[6][P]);console.log("\u7b2c7\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di7List.length!=E&&alert("\u7b2c7\u7ad6\u4e0d\u4e00\u81f4");for(var k=0,D=0;D<MAX_CARD_COUNT;D++)0!=TPaneData.m_Data[7][D]&&k++;for(var B=0;B<this.di8List.length;B++)console.log("\u7b2c8\u7ad6\u5217\u6570\u636e="+this.di8List[B].name);console.log("\u7b2c8============"+k);for(var w=0;w<k;w++){n=this.GetImgIndex(TPaneData.m_Data[7][w]);console.log("\u7b2c8\u7ad6\u5217\u6570\u636e\u7ed3\u6784="+this.bmpAllCards[n])}this.di8List.length!=k&&alert("\u7b2c8\u7ad6\u4e0d\u4e00\u81f4");for(var G=0;G<this.lin1list.length;G++)console.log("===========lin1list=========="+this.lin1list[G].name);for(var A=0;A<this.lin2list.length;A++)console.log("===========lin2list=========="+this.lin2list[A].name);for(var M=0;M<this.lin3list.length;M++)console.log("===========lin3list=========="+this.lin3list[M].name);for(var V=0;V<this.lin4list.length;V++)console.log("===========lin4list=========="+this.lin4list[V].name);for(var O=0;O<this.hui1list.length;O++)console.log("===========hui1list=========="+this.hui1list[O].name+"===="+this.hui1list[O].zIndex);for(var R=0;R<this.hui2list.length;R++)console.log("===========hui2list=========="+this.hui2list[R].name+"===="+this.hui2list[R].zIndex);for(var H=0;H<this.hui3list.length;H++)console.log("===========hui3list=========="+this.hui3list[H].name+"===="+this.hui3list[H].zIndex);for(var F=0;F<this.hui4list.length;F++)console.log("===========hui4list=========="+this.hui4list[F].name+"===="+this.hui4list[F].zIndex)},inNoteTempToVertical:function(t,i,e,s){console.log("\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e,\u6536\u724c\u4f4d\u7f6e=begin==="),console.log("==tempNode.name==="+e.name);var o=e.getBoundingBoxToWorld();o.height=o.height+200;var a=!1,h=0,c=0,r=this.searchTempListNodeNum(e.name);switch(r){case 1:h=0,c=0;break;case 2:h=1,c=0;break;case 3:h=2,c=0;break;case 4:h=3,c=0}if(console.log("\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e,\u6536\u724c\u4f4d\u7f6e=begin==1111="),this.content.getChildByName("hui1").getBoundingBoxToWorld().intersects(o)){console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c\u4e00\u4e2a\u6536\u724c\u4f4d\u7f6e =hui1===");var d=n.OnLButtonDown(h,c,4,0);if(console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c\u4e00\u4e2a\u6536\u724c\u4f4d\u7f6e ===="+d),d>0){a=!0,e.setPosition(this.content.getChildByName("hui1").getPosition()),e.zIndex=this.hui1list.length+1;var l=this.searchTempListNodeNum(e.name);return this.step++,a&&this.addBackPaiList(l,5,1,3,this.step,e.name),this.deleteTempList(r,e),this.hui1list.push(e),a}console.log("=\u79fb\u52a8\u5931\u8d25\u56de\u590d\u4e34\u65f6\u4f4d\u7f6e ===="+t+"=="+i),e.x=t,e.y=i}if(this.content.getChildByName("hui2").getBoundingBoxToWorld().intersects(o)){console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c\u4e00\u4e2a\u6536\u724c\u4f4d\u7f6e =hui2=====");d=n.OnLButtonDown(h,c,5,0);if(console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c2\u4e2a\u6536\u724c\u4f4d\u7f6e ===="+d),d>0){a=!0,e.setPosition(this.content.getChildByName("hui2").getPosition()),e.zIndex=this.hui2list.length+1;l=this.searchTempListNodeNum(e.name);return this.step++,a&&this.addBackPaiList(l,6,1,3,this.step,e.name),this.deleteTempList(r,e),this.hui2list.push(e),a}console.log("=\u79fb\u52a8\u5931\u8d25\u56de\u590d\u4e34\u65f6\u4f4d\u7f6e ===="+t+"=="+i),e.x=t,e.y=i}if(this.content.getChildByName("hui3").getBoundingBoxToWorld().intersects(o)){console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c3\u4e2a\u6536\u724c\u4f4d\u7f6e ====");d=n.OnLButtonDown(h,c,6,0);if(console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c3\u4e2a\u6536\u724c\u4f4d\u7f6e ===="+d),d>0){a=!0,e.setPosition(this.content.getChildByName("hui3").getPosition()),e.zIndex=this.hui3list.length+1;l=this.searchTempListNodeNum(e.name);return this.step++,a&&this.addBackPaiList(l,7,1,3,this.step,e.name),this.deleteTempList(r,e),this.hui3list.push(e),a}console.log("=\u79fb\u52a8\u5931\u8d25\u56de\u590d\u4e34\u65f6\u4f4d\u7f6e ===="+t+"=="+i),e.x=t,e.y=i}if(this.content.getChildByName("hui4").getBoundingBoxToWorld().intersects(o)){console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c4\u4e2a\u6536\u724c\u4f4d\u7f6e ====");d=n.OnLButtonDown(h,c,7,0);if(console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u79fb\u52a8\u5230\u7b2c4\u4e2a\u6536\u724c\u4f4d\u7f6e ===="+d),d>0){a=!0,e.setPosition(this.content.getChildByName("hui4").getPosition()),e.zIndex=this.hui4list.length+1;l=this.searchTempListNodeNum(e.name);return this.step++,a&&this.addBackPaiList(l,8,1,3,this.step,e.name),this.deleteTempList(r,e),this.hui4list.push(e),a}console.log("=\u79fb\u52a8\u5931\u8d25\u56de\u590d\u4e34\u65f6\u4f4d\u7f6e ===="+t+"=="+i),e.x=t,e.y=i}console.log("\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e,\u6536\u724c\u4f4d\u7f6e=begin==2222=");var u=this.content.getChildByName("di1").getBoundingBoxToWorld();if(this.di1List.length>0&&(u=this.di1List[this.di1List.length-1].getBoundingBoxToWorld()),u.intersects(o)){var m=0,g=0;0==this.di1List.length?(m=0,g=1):(m=this.getVerticalIndex(this.di1List[this.di1List.length-1])-1,g=this.getRowIndex(this.di1List[this.di1List.length-1])+1);d=n.OnLButtonDown(h,c,m,g);if(console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di1=="+d),d>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di1=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di1=="+a),a){var p=this.content.getChildByName("di1").getPosition(),v=this.di1List.length;return e.setPosition(cc.v2(p.x,p.y-25*v)),e.zIndex=v,this.step++,a&&this.addBackPaiList(h+1,1,1,4,this.step,e.name),this.deleteTempList(r,e),this.addVerticalIndex(1,e),this.setNewLoaction(1),a}}else e.x=t,e.y=i}var C=this.content.getChildByName("di2").getBoundingBoxToWorld();if(this.di2List.length>0&&(C=this.di2List[this.di2List.length-1].getBoundingBoxToWorld()),C.intersects(o)){var L=0,f=0;if(0==this.di2List.length?(L=1,f=1):(L=this.getVerticalIndex(this.di2List[this.di2List.length-1])-1,f=this.getRowIndex(this.di2List[this.di2List.length-1])+1),(d=n.OnLButtonDown(h,c,L,f))>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di2=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di2=="+a),a){var N=this.content.getChildByName("di2").getPosition(),T=this.di2List.length;return e.setPosition(cc.v2(N.x,N.y-25*T)),e.zIndex=T,this.step++,a&&this.addBackPaiList(h+1,2,1,4,this.step,e.name),this.deleteTempList(r,e),this.addVerticalIndex(2,e),this.setNewLoaction(2),a}}else e.x=t,e.y=i}var _=this.content.getChildByName("di3").getBoundingBoxToWorld();if(this.di3List.length>0&&(_=this.di3List[this.di3List.length-1].getBoundingBoxToWorld()),_.intersects(o)){var b=0,x=0;0==this.di3List.length?(b=2,x=1):(b=this.getVerticalIndex(this.di3List[this.di3List.length-1])-1,x=this.getRowIndex(this.di3List[this.di3List.length-1])+1);d=n.OnLButtonDown(h,c,b,x);if(console.log("=\u79fb\u52a8\u662f\u5426\u6210\u529f ==di3=="+d),d>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di3=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di3=="+a),a){var E=this.content.getChildByName("di3").getPosition(),y=this.di3List.length;return e.setPosition(cc.v2(E.x,E.y-25*y)),e.zIndex=y,this.step++,a&&this.addBackPaiList(h+1,3,1,4,this.step,e.name),this.deleteTempList(r,e),this.addVerticalIndex(3,e),this.setNewLoaction(3),a}}else e.x=t,e.y=i}var I=this.content.getChildByName("di4").getBoundingBoxToWorld();if(this.di4List.length>0&&(I=this.di4List[this.di4List.length-1].getBoundingBoxToWorld()),I.intersects(o)){var P=0,k=0;0==this.di4List.length?(P=3,k=1):(P=this.getVerticalIndex(this.di4List[this.di4List.length-1])-1,k=this.getRowIndex(this.di4List[this.di4List.length-1])+1),console.log("==tempNode.name=move_x=="+P+"====move_y="+k);d=n.OnLButtonDown(h,c,P,k);if(console.log("=\u79fb\u52a8\u662f\u5426\u6210\u529f ==di4=="+d),d>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di4=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di4=="+a),a){var D=this.content.getChildByName("di4").getPosition(),B=this.di4List.length;return e.setPosition(cc.v2(D.x,D.y-25*B)),e.zIndex=B,this.step++,a&&this.addBackPaiList(h+1,4,1,4,this.step,e.name),this.deleteTempList(r,e),this.addVerticalIndex(4,e),this.setNewLoaction(4),console.log("\u8303\u56f4\u5185di1ListGroup4"),a}}else e.x=t,e.y=i}var w=this.content.getChildByName("di5").getBoundingBoxToWorld();if(this.di5List.length>0&&(w=this.di5List[this.di5List.length-1].getBoundingBoxToWorld()),w.intersects(o)){console.log("\u8303\u56f4\u5185di1ListGroup5=");var G=0,A=0;0==this.di5List.length?(G=4,A=1):(G=this.getVerticalIndex(this.di5List[this.di5List.length-1])-1,A=this.getRowIndex(this.di5List[this.di5List.length-1])+1);d=n.OnLButtonDown(h,c,G,A);if(console.log("=\u79fb\u52a8\u662f\u5426\u6210\u529f ==di5=="+d),d>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di5=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di5=="+a),a){var M=this.content.getChildByName("di5").getPosition(),V=this.di5List.length;return e.setPosition(cc.v2(M.x,M.y-25*V)),e.zIndex=V,this.step++,a&&this.addBackPaiList(h+1,5,1,4,this.step,e.name),this.addVerticalIndex(5,e),this.deleteTempList(r,e),this.setNewLoaction(5),console.log("\u8303\u56f4\u5185di1ListGroup5"),a}}else e.x=t,e.y=i}var O=this.content.getChildByName("di6").getBoundingBoxToWorld();if(this.di6List.length>0&&(O=this.di6List[this.di6List.length-1].getBoundingBoxToWorld()),O.intersects(o)){console.log("\u8303\u56f4\u5185di1ListGroup6=");var R=0,H=0;0==this.di6List.length?(R=5,H=1):(R=this.getVerticalIndex(this.di6List[this.di6List.length-1])-1,H=this.getRowIndex(this.di6List[this.di6List.length-1])+1);d=n.OnLButtonDown(h,c,R,H);if(console.log("=\u79fb\u52a8\u662f\u5426\u6210\u529f ==di6=="+d),d>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di6=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di6=="+a),a){var F=this.content.getChildByName("di6").getPosition(),S=this.di6List.length;return e.setPosition(cc.v2(F.x,F.y-25*S)),e.zIndex=S,this.step++,a&&this.addBackPaiList(h+1,6,1,4,this.step,e.name),this.addVerticalIndex(6,e),this.deleteTempList(r,e),this.setNewLoaction(6),console.log("\u8303\u56f4\u5185di1ListGroup6"),a}}else e.x=t,e.y=i}var z=this.content.getChildByName("di7").getBoundingBoxToWorld();if(this.di7List.length>0&&(z=this.di7List[this.di7List.length-1].getBoundingBoxToWorld()),z.intersects(o)){var W=0,U=0;if(0==this.di7List.length?(W=6,U=1):(W=this.getVerticalIndex(this.di7List[this.di7List.length-1])-1,U=this.getRowIndex(this.di7List[this.di7List.length-1])+1),(d=n.OnLButtonDown(h,c,W,U))>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di7=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di7=="+a),a){var q=this.content.getChildByName("di7").getPosition(),X=this.di7List.length;return e.setPosition(cc.v2(q.x,q.y-25*X)),e.zIndex=X,this.step++,a&&this.addBackPaiList(h+1,7,1,4,this.step,e.name),this.addVerticalIndex(7,e),this.deleteTempList(r,e),this.setNewLoaction(7),console.log("\u8303\u56f4\u5185di1ListGroup7"),a}}else e.x=t,e.y=i}var Y=this.content.getChildByName("di8").getBoundingBoxToWorld();if(this.di8List.length>0&&(Y=this.di8List[this.di8List.length-1].getBoundingBoxToWorld()),Y.intersects(o)){var K=0,j=0;if(0==this.di8List.length?(K=7,j=1):(K=this.getVerticalIndex(this.di8List[this.di8List.length-1])-1,j=this.getRowIndex(this.di8List[this.di8List.length-1])+1),(d=n.OnLButtonDown(h,c,K,j))>=0){if(a=!0,0==d&&(a=!1,this.CheckMoveListToEmpty()?this.GetWantMoveCount()>1?a=!1:(a=!0,this.DoCheckOverToEmpty(!1)):(console.log("=\u8fd9\u7b97\u662f\u5931\u8d25==di8=="),a=!1,e.x=i,e.y=i)),console.log("=\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\u79fb\u52a8\u662f\u5426\u6210\u529f ==di8=="+a),a){var J=this.content.getChildByName("di8").getPosition(),Z=this.di8List.length;return e.setPosition(cc.v2(J.x,J.y-25*Z)),e.zIndex=Z,this.step++,a&&this.addBackPaiList(h+1,8,1,4,this.step,e.name),this.addVerticalIndex(8,e),this.deleteTempList(r,e),this.setNewLoaction(8),a}}else e.x=t,e.y=i}return a||(e.x=t,e.y=i),console.log("\u4ece\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e,\u6536\u724c\u4f4d\u7f6e=end==="+a),a},onTempTouch:function(t){var i,e,s=this;t.on(cc.Node.EventType.TOUCH_START,function(n){if(console.log("==\u89e6\u6478\u4e34\u65f6onTempTouch=TOUCH_START="),!1===s.ifMove&&0==s.ifTempMove){n.touch.getDelta();i=this.getPosition().x,e=this.getPosition().y,t.zIndex=999,s.isMoveState=!1,s.ifTempMove=!0}},t),t.on(cc.Node.EventType.TOUCH_MOVE,function(i){if(!1===s.ifMove&&1==s.ifTempMove){var e=i.touch.getDelta();t.x+=e.x,t.y+=e.y}},t.children[0]),t.on(cc.Node.EventType.TOUCH_END,function(n){if(!1===s.ifMove&&1==s.ifTempMove){this.opacity=255,cc.audioEngine.playEffect(s.put);var o=s.inNoteTempToVertical(i,e,t,n);console.log("==\u89e6\u6478\u4e34\u65f6onTempTouch=TOUCH_END="+o),s.autoTo(o),s.ifTempMove=!1}},t),t.on(cc.Node.EventType.TOUCH_CANCEL,function(t){!1===s.ifMove&&1==s.ifTempMove&&(this.opacity=255,cc.audioEngine.playEffect(s.put),s.ifTempMove=!1)},t)},inNodeScopeToTemp:function(t,i,e,s,o,a,h,c,r,d,l,u){console.log("inNodeScopeToTemp--------begin\u4e34\u65f6\u4f4d\u7f6e\uff0c\u6536\u724c\u4f4d\u7f6e========="+e),this.isMoveState=!1;var m=this.getVerticalIndex(e)-1,g=this.getRowIndex(e)+1;if(this.content.getChildByName("lin1").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217lin1"),0==this.lin1list.length){var p=n.OnLButtonDown(m,g,0,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217lin1\u79fb\u52a8\u7ed3\u679c="+p),p>0){this.isMoveState=!0;var v=this.content.getChildByName("lin1").getPosition();e.zIndex=this.lin1list.length+1,e.setPosition(v),this.lin1list.push(e),this.step++,this.linX=this.getVerticalIndex(e),this.isMoveState&&this.addBackPaiList(this.linX,1,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)}}else e.x=t,e.y=i;if(this.content.getChildByName("lin2").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin2"),0==this.lin2list.length){p=n.OnLButtonDown(m,g,1,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin2\u79fb\u52a8\u7ed3\u679c="+p),p>0){this.isMoveState=!0;var C=this.content.getChildByName("lin2").getPosition();e.zIndex=this.lin2list.length+1,e.setPosition(C),this.lin2list.push(e),this.step++,this.linX=this.getVerticalIndex(e),this.isMoveState&&this.addBackPaiList(this.linX,2,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)}}else e.x=t,e.y=i;if(this.content.getChildByName("lin3").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin3"),0==this.lin3list.length){p=n.OnLButtonDown(m,g,2,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin3\u79fb\u52a8\u7ed3\u679c="+p),p>0){this.isMoveState=!0;var L=this.content.getChildByName("lin3").getPosition();e.zIndex=this.lin3list.length+1,e.setPosition(L),this.lin3list.push(e),this.step++,this.linX=this.getVerticalIndex(e),this.isMoveState&&this.addBackPaiList(this.linX,3,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)}}else e.x=t,e.y=i;if(this.content.getChildByName("lin4").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin4"),0==this.lin4list.length){p=n.OnLButtonDown(m,g,3,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin4\u79fb\u52a8\u7ed3\u679c="+p),p>0){this.isMoveState=!0;var f=this.content.getChildByName("lin4").getPosition();e.zIndex=this.lin4list.length+1,e.setPosition(f),this.lin4list.push(e),this.step++,this.linX=this.getVerticalIndex(e),this.isMoveState&&this.addBackPaiList(this.linX,4,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)}}else e.x=t,e.y=i;if(this.content.getChildByName("hui1").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui1");p=n.OnLButtonDown(m,g,4,0);console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536)\u679c="+p),p>0?(this.isMoveState=!0,e.setPosition(this.content.getChildByName("hui1").getPosition()),e.zIndex=this.hui1list.length+1,this.hui1list.push(e),this.step++,this.isMoveState&&this.addBackPaiList(this.getVerticalIndex(e),5,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)):(e.x=t,e.y=i)}if(this.content.getChildByName("hui2").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui2");p=n.OnLButtonDown(m,g,5,0);console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536)\u79fb\u52a8\u7ed3\u679c="+p),p>0?(this.isMoveState=!0,e.setPosition(this.content.getChildByName("hui2").getPosition()),e.zIndex=this.hui2list.length+1,this.hui2list.push(e),this.step++,this.isMoveState&&this.addBackPaiList(this.getVerticalIndex(e),6,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)):(e.x=t,e.y=i)}if(this.content.getChildByName("hui3").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui3");p=n.OnLButtonDown(m,g,6,0);console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536)\u79fb\u52a8\u7ed3\u679c="+p),p>0?(this.isMoveState=!0,e.setPosition(this.content.getChildByName("hui3").getPosition()),e.zIndex=this.hui3list.length+1,this.hui3list.push(e),this.step++,this.isMoveState&&this.addBackPaiList(this.getVerticalIndex(e),7,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)):(e.x=t,e.y=i)}if(this.content.getChildByName("hui4").getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui4");p=n.OnLButtonDown(m,g,7,0);console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u79fb\u52a8\u7ed3\u679c="+p),p>0?(this.isMoveState=!0,e.setPosition(this.content.getChildByName("hui4").getPosition()),e.zIndex=this.hui4list.length+1,this.hui4list.push(e),this.step++,this.isMoveState&&this.addBackPaiList(this.getVerticalIndex(e),8,1,2,this.step,e.name),this.removeVerticalIndex(this.getVerticalIndex(e),e)):(e.x=t,e.y=i)}return console.log("inNodeScopeToTemp--------end\u4e34\u65f6\u4f4d\u7f6e\uff0c\u6536\u724c\u4f4d\u7f6e========"+e),this.isMoveState},inNodeVerticalToVertical:function(t,i,e){console.log("\u7ad6\u5217\u4f4d\u7f6e \u5230\u7ad6\u5217\u4f4d\u7f6e------begin========="+t);var s=!1,o=this.getVerticalIndex(i)-1,a=this.getRowIndex(i)+1,h=i.getBoundingBoxToWorld();h.height=h.height+800;var c=this.content.getChildByName("di1").getBoundingBoxToWorld();if(this.di1List.length>0&&(c=this.di1List[this.di1List.length-1].getBoundingBoxToWorld()),c.intersects(h)&&1!=t){var r=0,d=0;0==this.di1List.length?(r=0,d=1):(r=this.getVerticalIndex(this.di1List[this.di1List.length-1])-1,d=this.getRowIndex(this.di1List[this.di1List.length-1])+1);var l=n.OnLButtonDown(o,a,r,d);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+r+"===\u7ad6==="+d+"=====\u7ad6\u52171======\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,1,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;if($=this.CheckMoveListToEmpty()){var u=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var m=this.GetCanMoveCount(),g=n.NoListCanMoveCount();m>g&&(m=g),u<m&&(m=u),m>1?(s=this.moveUp(t,1,m,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,1,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,1,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var p=this.GetWantMoveCount(),v=this.GetCanMoveCount();if(v>0&&p>v){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=p,this.msg.getChildByName("my").getComponent(cc.Label).string=v;var C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var L=this.content.getChildByName("di2").getBoundingBoxToWorld();if(this.di2List.length>0&&(L=this.di2List[this.di2List.length-1].getBoundingBoxToWorld()),L.intersects(h)&&2!=t){var f=0,N=0;0==this.di2List.length?(f=1,N=1):(f=this.getVerticalIndex(this.di2List[this.di2List.length-1])-1,N=this.getRowIndex(this.di2List[this.di2List.length-1])+1);l=n.OnLButtonDown(o,a,f,N);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+f+"===\u7ad6==="+N+"=====\u7ad6\u52172======\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,2,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;if($=this.CheckMoveListToEmpty()){var T=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var _=this.GetCanMoveCount(),b=n.NoListCanMoveCount();_>b&&(_=b),T<_&&(_=T),_>1?(s=this.moveUp(t,2,_,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,2,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,2,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var x=this.GetWantMoveCount(),E=this.GetCanMoveCount();if(E>0&&x>E){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=x,this.msg.getChildByName("my").getComponent(cc.Label).string=E;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var y=this.content.getChildByName("di3").getBoundingBoxToWorld();if(this.di3List.length>0&&(y=this.di3List[this.di3List.length-1].getBoundingBoxToWorld()),y.intersects(h)&&3!=t){var I=0,P=0;0==this.di3List.length?(I=2,P=1):(I=this.getVerticalIndex(this.di3List[this.di3List.length-1])-1,P=this.getRowIndex(this.di3List[this.di3List.length-1])+1),console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884cVertical_x="+o+"===vertical_y==="+a+"=====move_x======"+I+"=move_y=="+P);l=n.OnLButtonDown(o,a,I,P);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+I+"===\u7ad6==="+P+"=====\u7ad6\u52173======\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,3,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;if($=this.CheckMoveListToEmpty()){var k=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var D=this.GetCanMoveCount(),B=n.NoListCanMoveCount();D>B&&(D=B),k<D&&(D=k),D>1?(s=this.moveUp(t,3,D,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,3,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,3,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var w=this.GetWantMoveCount(),G=this.GetCanMoveCount();if(G>0&&w>G){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=w,this.msg.getChildByName("my").getComponent(cc.Label).string=G;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var A=this.content.getChildByName("di4").getBoundingBoxToWorld();if(this.di4List.length>0&&(A=this.di4List[this.di4List.length-1].getBoundingBoxToWorld()),A.intersects(h)&&4!=t){var M=0,V=0;0==this.di4List.length?(M=3,V=1):(M=this.getVerticalIndex(this.di4List[this.di4List.length-1])-1,V=this.getRowIndex(this.di4List[this.di4List.length-1])+1);l=n.OnLButtonDown(o,a,M,V);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+M+"===\u7ad6==="+V+"=====\u7ad6\u52174======\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,4,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;if($=this.CheckMoveListToEmpty()){var O=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var R=this.GetCanMoveCount(),H=n.NoListCanMoveCount();R>H&&(R=H),O<R&&(R=O),R>1?(s=this.moveUp(t,4,R,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,4,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,4,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var F=this.GetWantMoveCount(),S=this.GetCanMoveCount();if(S>0&&F>S){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=F,this.msg.getChildByName("my").getComponent(cc.Label).string=S;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var z=this.content.getChildByName("di5").getBoundingBoxToWorld();if(this.di5List.length>0&&(z=this.di5List[this.di5List.length-1].getBoundingBoxToWorld()),z.intersects(h)&&5!=t){var W=0,U=0;0==this.di5List.length?(W=4,U=1):(W=this.getVerticalIndex(this.di5List[this.di5List.length-1])-1,U=this.getRowIndex(this.di5List[this.di5List.length-1])+1);l=n.OnLButtonDown(o,a,W,U);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+W+"===\u7ad6==="+U+"=====\u7ad6\u52175======\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,5,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;if($=this.CheckMoveListToEmpty()){var q=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var X=this.GetCanMoveCount(),Y=n.NoListCanMoveCount();X>Y&&(X=Y),q<X&&(X=q),X>1?(s=this.moveUp(t,5,X,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,5,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,5,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var K=this.GetWantMoveCount(),j=this.GetCanMoveCount();if(j>0&&K>j){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=K,this.msg.getChildByName("my").getComponent(cc.Label).string=j;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var J=this.content.getChildByName("di6").getBoundingBoxToWorld();if(this.di6List.length>0&&(J=this.di6List[this.di6List.length-1].getBoundingBoxToWorld()),J.intersects(h)&&6!=t){var Z=0,Q=0;0==this.di6List.length?(Z=5,Q=1):(Z=this.getVerticalIndex(this.di6List[this.di6List.length-1])-1,Q=this.getRowIndex(this.di6List[this.di6List.length-1])+1);l=n.OnLButtonDown(o,a,Z,Q);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+Z+"===\u7ad6==="+Q+"=====\u7ad6\u52176=====\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,6,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;var $=this.CheckMoveListToEmpty();if(console.log("\u5230\u7ad6\u5217checkmove=6======"+$),$){var tt=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var it=this.GetCanMoveCount(),et=n.NoListCanMoveCount();it>et&&(it=et),tt<it&&(it=tt),it>1?(s=this.moveUp(t,6,it,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,6,1),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,6,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var st=this.GetWantMoveCount(),nt=this.GetCanMoveCount();if(nt>0&&st>nt){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=st,this.msg.getChildByName("my").getComponent(cc.Label).string=nt;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var ot=this.content.getChildByName("di7").getBoundingBoxToWorld();if(this.di7List.length>0&&(ot=this.di7List[this.di7List.length-1].getBoundingBoxToWorld()),ot.intersects(h)&&7!=t){var at=0,ht=0;0==this.di7List.length?(at=6,ht=1):(at=this.getVerticalIndex(this.di7List[this.di7List.length-1])-1,ht=this.getRowIndex(this.di7List[this.di7List.length-1])+1);l=n.OnLButtonDown(o,a,at,ht);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+at+"===\u7ad6==="+ht+"=====\u7ad6\u52177=====\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,7,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;$=this.CheckMoveListToEmpty();if(console.log("\u5230\u7ad6\u5217checkmove=7======"+$),$){var ct=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var rt=this.GetCanMoveCount(),dt=n.NoListCanMoveCount();rt>dt&&(rt=dt),ct<rt&&(rt=ct),rt>1?(s=this.moveUp(t,7,rt,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,7,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,7,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var lt=this.GetWantMoveCount(),ut=this.GetCanMoveCount();if(ut>0&&lt>ut){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=lt,this.msg.getChildByName("my").getComponent(cc.Label).string=ut;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}var mt=this.content.getChildByName("di8").getBoundingBoxToWorld();if(this.di8List.length>0&&(mt=this.di8List[this.di8List.length-1].getBoundingBoxToWorld()),mt.intersects(h)&&8!=t){var gt=0,pt=0;0==this.di8List.length?(gt=7,pt=1):(gt=this.getVerticalIndex(this.di8List[this.di8List.length-1])-1,pt=this.getRowIndex(this.di8List[this.di8List.length-1])+1);l=n.OnLButtonDown(o,a,gt,pt);if(console.log("\u8981\u79fb\u5230\u7684\u7ad6\u5217\u884c="+gt+"===\u7ad6==="+pt+"=====\u7ad6\u52178=====\u53ef\u4ee5\u79fb\u52a8="+l),l>0)return s=this.moveUp(t,8,l,!0),this.setSrcLoaction(t),this.setNewLoaction(t),s;$=this.CheckMoveListToEmpty();if(console.log("\u5230\u7ad6\u5217checkmove=8======"+$),$){var vt=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var Ct=this.GetCanMoveCount(),Lt=n.NoListCanMoveCount();Ct>Lt&&(Ct=Lt),vt<Ct&&(Ct=vt),Ct>1?(s=this.moveUp(t,8,Ct,!0),this.DoCheckOverToEmpty(!0)):(s=this.moveUp(t,8,1,!0),this.DoCheckOverToEmpty(!1))}else s=this.moveUp(t,8,1,!0),this.DoCheckOverToEmpty(!1);return this.setSrcLoaction(t),this.setNewLoaction(t),s}var ft=this.GetWantMoveCount(),Nt=this.GetCanMoveCount();if(Nt>0&&ft>Nt){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=ft,this.msg.getChildByName("my").getComponent(cc.Label).string=Nt;C=function(t){this.msg.active=!1};this.scheduleOnce(C,2)}}return this.setSrcLoaction(t),this.setNewLoaction(t),console.log("\u7ad6\u5217\u4f4d\u7f6e \u5230\u7ad6\u5217\u4f4d\u7f6e------end========="+t),s},moveUp:function(t,i,e,s){switch(console.log("moveUp\u79fb\u52a8\u7ed3\u675f="+t),this.isMoveState=!1,i){case 1:console.log("\u76ee\u76841\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76841\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(var n=this.di1List.length,o=0,a=this.content.getChildByName("di1").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){var r=this.tempList[h];if(console.log("\u76ee\u76841\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8diNoteGroupSelf="+r.name),r.zIndex=n,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(1,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 2:console.log("\u76ee\u76842\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76842\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di2List.length,o=0,a=this.content.getChildByName("di2").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(2,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 3:console.log("\u76ee\u76843\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76843\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di3List.length,o=0,a=this.content.getChildByName("di3").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(3,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 4:console.log("\u76ee\u76844\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76844\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di4List.length,o=0,a=this.content.getChildByName("di4").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n+c,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(4,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 5:console.log("\u76ee\u76845\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76845\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di5List.length,o=0,a=this.content.getChildByName("di5").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n+c,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(5,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 6:console.log("\u76ee\u76846\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76846\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di6List.length,o=0,a=this.content.getChildByName("di6").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n+c,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(6,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 7:console.log("\u76ee\u76847\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76847\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di7List.length,o=0,a=this.content.getChildByName("di7").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(7,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 8:console.log("\u76ee\u76848\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76848\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(n=this.di8List.length,o=0,a=this.content.getChildByName("di8").getPosition(),h=e-1,c=0;h>=0&&!(++o>this.tempList.length);h--,c++){if((r=this.tempList[h]).zIndex=n,r.setPosition(cc.v2(a.x,a.y-25*(n+c))),this.removeVerticalIndex(this.getVerticalIndex(r),r),this.addVerticalIndex(8,r),o==e){this.step++,s&&this.addBackPaiList(t,i,o,1,this.step,r.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i)}return this.isMoveState},autoMoveBack:function(t){var i=this;if(this.shoupaiNum>=8)return this.onVerticalCardTouch(),this.shoupaiNum=4,console.log(" autoMoveBack ==isauto=="+t),void this.autoTo(t);var e=this.shoupaiNum,s=this.GetImgIndex(TPaneData.m_MidTo[e]);if(s>=0){var n=this.bmpAllCards[s],o=this.searchNode(n);if(-1==o)switch(e){case 4:if(-1!=(r=this.searchTempListNodeNum(n))){(d=this.getTempList(n)).zIndex=this.hui1list.length+1,console.log(" autoMoveBack =4=\u5982\u679c\u6b64\u724c\u4e34\u65f6\u5217\u8868\u4e2d\u627e\u5230=="+d.name);var a=cc.moveTo(.1,this.content.getChildByName("hui1").getPosition()),h=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),t&&this.addBackPaiList(r,5,1,3,this.step,n),i.deleteTempList(r,s),i.hui1list.push(s),i.shoupaiNum++,i.autoMoveBack(t)},this,d),c=cc.sequence(a,h);d.runAction(c)}else this.shoupaiNum++,this.autoMoveBack(t);break;case 5:if(-1!=(r=this.searchTempListNodeNum(n))){console.log(" autoMoveBack =5=\u5982\u679c\u6b64\u724c\u4e34\u65f6\u5217\u8868\u4e2d\u627e\u5230=="),(d=this.getTempList(n)).zIndex=this.hui2list.length+1;a=cc.moveTo(.1,this.content.getChildByName("hui2").getPosition()),h=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),t&&this.addBackPaiList(r,6,1,3,this.step,n),this.deleteTempList(r,s),this.hui2list.push(s),this.shoupaiNum++,this.autoMoveBack(t)},this,d),c=cc.sequence(a,h);d.runAction(c)}else this.shoupaiNum++,this.autoMoveBack(t);break;case 6:if(-1!=(r=this.searchTempListNodeNum(n))){console.log(" autoMoveBack =6=\u5982\u679c\u6b64\u724c\u4e34\u65f6\u5217\u8868\u4e2d\u627e\u5230=="),(d=this.getTempList(n)).zIndex=this.hui3list.length+1;a=cc.moveTo(.1,this.content.getChildByName("hui3").getPosition()),h=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),t&&this.addBackPaiList(r,7,1,3,this.step,n),this.deleteTempList(r,s),this.hui3list.push(s),this.shoupaiNum++,this.autoMoveBack(t)},this,d),c=cc.sequence(a,h);d.runAction(c)}else this.shoupaiNum++,this.autoMoveBack(t);break;case 7:var r;if(-1!=(r=this.searchTempListNodeNum(n))){var d;console.log(" autoMoveBack =7=\u5982\u679c\u6b64\u724c\u4e34\u65f6\u5217\u8868\u4e2d\u627e\u5230=="),(d=this.getTempList(n)).zIndex=this.hui4list.length+1;a=cc.moveTo(.1,this.content.getChildByName("hui2").getPosition()),h=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),t&&this.addBackPaiList(r,8,1,3,this.step,n),this.deleteTempList(r,s),this.hui4list.push(s),this.shoupaiNum++,this.autoMoveBack(t)},this,d),c=cc.sequence(a,h);d.runAction(c)}else this.shoupaiNum++,this.autoMoveBack(t)}if(-1!=o)switch(e){case 4:for(var l=!1,u=0;u<this.hui1list.length;u++)this.hui1list[u].name==n&&(l=!0);if(1==l)this.shoupaiNum++,this.autoMoveBack(t);else{a=cc.moveTo(.1,this.content.getChildByName("hui1").getPosition()),h=cc.callFunc(function(e,s){s.zIndex=this.hui1list.length+1;var a=this.getVerticalIndex(o);this.hui1list.push(o),t&&this.addBackPaiList(a,5,1,2,this.step,n),this.removeVerticalIndex(a,o),cc.audioEngine.playEffect(i.put),this.shoupaiNum++,i.autoMoveBack(t)},this,o),c=cc.sequence(a,h);o.runAction(c)}break;case 5:for(var m=!1,g=0;g<this.hui2list.length;g++)this.hui2list[g].name==n&&(m=!0);if(1==m)this.shoupaiNum++,this.autoMoveBack(t);else{a=cc.moveTo(.1,this.content.getChildByName("hui2").getPosition()),h=cc.callFunc(function(e,s){var a=this.getVerticalIndex(o);s.zIndex=this.hui2list.length+1,this.hui2list.push(o),t&&this.addBackPaiList(a,6,1,2,this.step,n),this.removeVerticalIndex(a,o),cc.audioEngine.playEffect(i.put),this.shoupaiNum++,i.autoMoveBack(t)},this,o),c=cc.sequence(a,h);o.runAction(c)}break;case 6:for(var p=!1,v=0;v<this.hui3list.length;v++)this.hui3list[v].name==n&&(p=!0);if(1==p)this.shoupaiNum++,this.autoMoveBack(t);else{a=cc.moveTo(.1,this.content.getChildByName("hui3").getPosition()),h=cc.callFunc(function(e,s){var a=this.getVerticalIndex(o);s.zIndex=this.hui3list.length+1,this.hui3list.push(o),t&&this.addBackPaiList(a,7,1,2,this.step,n),this.removeVerticalIndex(a,o),cc.audioEngine.playEffect(i.put),this.shoupaiNum++,i.autoMoveBack(t)},this,o),c=cc.sequence(a,h);o.runAction(c)}break;case 7:for(var C=!1,L=0;L<this.hui4list.length;L++)this.hui4list[L].name==n&&(C=!0);if(1==C)this.shoupaiNum++,this.autoMoveBack(t);else{a=cc.moveTo(.1,this.content.getChildByName("hui4").getPosition()),h=cc.callFunc(function(e,s){var a=this.getVerticalIndex(o);s.zIndex=this.hui4list.length+1,this.hui4list.push(o),t&&this.addBackPaiList(a,8,1,2,this.step,n),this.removeVerticalIndex(a,o),cc.audioEngine.playEffect(i.put),this.shoupaiNum++,i.autoMoveBack(t)},this,o),c=cc.sequence(a,h);o.runAction(c)}}}else this.shoupaiNum++,console.log(" autoMoveBack else==isauto=="+t),this.autoMoveBack(t)},autoTo:function(t){var i=n.AutoTo();if(console.log(" autoTo ==\u81ea\u52a8\u5316\u6267\u884c\u7ed3\u679c=="+i+"=================="+t),i)this.autoMoveBack(t);else if(this.onVerticalCardTouch(),this.shoupaiNum=4,this.IsNoWay(),1==this.IsSucceed()){console.log(" autoTo ==\u606d\u559c\u4f60=="),this.isBegin=!1,this.noway.zIndex=999,this.noway.active=!0;var e=this;this.noway.getChildByName("chongxin").on(cc.Node.EventType.TOUCH_START,function(t){e.initGroup(),e.getBeginNum(e.gameNume),e.dealMove(),e.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+e.gameNume,e.noway.active=!1,e.Begin.active=!1}),this.noway.getChildByName("newgame").on(cc.Node.EventType.TOUCH_START,function(t){e.initGroup(),e.tishi.active=!1,e.gameNume=this.randomNum(1e4,1),e.getBeginNum(e.gameNume),e.dealMove(),e.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+e.gameNume,e.noway.active=!1,e.Begin.active=!1})}},DoBack:function(){if(1==this.isBegin){var t=n.DoBack();if(this.shoupaiNum=4,console.log("DoBack===========this.backPaiList.length=="+this.backPaiList.length+"====dobackState="+t),t){if(this.backPaiList.length>0){var i=this.backPaiList[this.backPaiList.length-1];this.lastStep=i.step;for(var e=this.backPaiList.length-1;e>=0;e--){var s=this.backPaiList[e];console.log(" backPaiList ==cardback==cardback.from="+s.from+"cardback.to="+s.to+"cardback.size="+s.size+"cardback.type="+s.type+"cardback.step="+s.step+"cardback.name="+s.name)}this.dobackMove()}}else this.backPaiList.length>0&&(console.log("DoBack===\u8bb0\u5f55\u91cc\u9762\u8fd8\u6709\u64a4\u9500\u6570\u503c\uff0c\u4f46\u662f\u5df2\u7ecf\u65e0\u975e\u8fd4\u56de==\u9700\u8981\u91cd\u65b0\u53d1\u724c======="+t),this.onVerticalCardTouch()),this.back.getComponent(cc.Button).interactable=!0}},StepAdd:function(){this.step++},StepReduction:function(){this.step--},dobackMove:function(){if(this.onVerticalCardTouch(),this.backPaiList.length>0){this.back.getComponent(cc.Button).interactable=!1,console.log("dobackMove======1111=====this.step=="+this.step);var t=this.backPaiList[this.backPaiList.length-1];console.log(" cardback ==cardback==cardback.from="+t.from+"cardback.to="+t.to+"cardback.size="+t.size+"cardback.type="+t.type+"cardback.step="+t.step+"cardback.name="+t.name);var i=this;if(t.step==this.lastStep){var e=new Array;if(e=[],1==t.type){switch(console.log("dobackMove===1===\u539f\u6765\u7ad6\u5217\u5230\u7ad6\u5217\uff0c\u64a4\u9500================"+t.to),t.to){case 1:for(var s=0,n=this.di1List.length-1;n>=0;n--){s++;var o=this.di1List[n];if(e.push(o),this.di1List.remove(o),s==t.size)break}break;case 2:s=0;for(var a=this.di2List.length-1;a>=0;a--){s++;o=this.di2List[a];if(e.push(o),this.di2List.remove(o),s==t.size)break}break;case 3:s=0;for(var h=this.di3List.length-1;h>=0;h--){s++;o=this.di3List[h];if(e.push(o),this.di3List.remove(o),s==t.size)break}break;case 4:s=0;for(var c=this.di4List.length-1;c>=0;c--){s++;o=this.di4List[c];if(e.push(o),this.di4List.remove(o),s==t.size)break}break;case 5:s=0;for(var r=this.di5List.length-1;r>=0;r--){s++;o=this.di5List[r];if(e.push(o),this.di5List.remove(o),s==t.size)break}break;case 6:s=0;for(var d=this.di6List.length-1;d>=0;d--){s++;o=this.di6List[d];if(e.push(o),this.di6List.remove(o),s==t.size)break}break;case 7:s=0;for(var l=this.di7List.length-1;l>=0;l--){s++;o=this.di7List[l];if(e.push(o),this.di7List.remove(o),s==t.size)break}break;case 8:s=0;for(var u=this.di8List.length-1;u>=0;u--){s++;o=this.di8List[u];if(e.push(o),this.di8List.remove(o),s==t.size)break}}switch(t.from){case 1:var m=this.content.getChildByName("di1").getPosition(),g=this.di1List.length;if(e.length>0)for(var p=e.length-1,v=0;p>=0;p--,v++){(o=e[p]).zIndex=g-1+v;var C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(g+v))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(1)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di1List.push(o)}break;case 2:m=this.content.getChildByName("di2").getPosition();var N=this.di2List.length;if(e.length>0)for(var T=e.length-1,_=0;T>=0;T--,_++){(o=e[T]).zIndex=N-1+_;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(N+_))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(2)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di2List.push(o)}break;case 3:m=this.content.getChildByName("di3").getPosition();var b=this.di3List.length;if(e.length>0)for(var x=e.length-1,E=0;x>=0;x--,E++){(o=e[x]).zIndex=b-1+E;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(b+E))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(3)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di3List.push(o)}break;case 4:m=this.content.getChildByName("di4").getPosition();var y=this.di4List.length;if(e.length>0)for(var I=e.length-1,P=0;I>=0;I--,P++){(o=e[I]).zIndex=y-1+P;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(y+P))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(4)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di4List.push(o)}break;case 5:m=this.content.getChildByName("di5").getPosition();var k=this.di5List.length;if(e.length>0)for(var D=e.length-1,B=0;D>=0;D--,B++){(o=e[D]).zIndex=k-1+B;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(k+B))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(5)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di5List.push(o)}break;case 6:m=this.content.getChildByName("di6").getPosition();var w=this.di6List.length;if(e.length>0)for(var G=e.length-1,A=0;G>=0;G--,A++){(o=e[G]).zIndex=w-1+A;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(w+A))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(6)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di6List.push(o)}break;case 7:m=this.content.getChildByName("di7").getPosition();var M=this.di7List.length;if(e.length>0)for(var V=e.length-1,O=0;V>=0;V--,O++){(o=e[V]).zIndex=M-1+O;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(M+O))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(7)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di7List.push(o)}break;case 8:m=this.content.getChildByName("di8").getPosition();var R=this.di8List.length;if(e.length>0)for(var H=e.length-1,F=0;H>=0;H--,F++){(o=e[H]).zIndex=R-1+F;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(R+F))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.setNewLoaction(8)},this,$),f=cc.sequence(C,L);o.runAction(f),this.di8List.push(o)}}this.backPaiList.remove(t)}if(2==t.type){switch(console.log("dobackMove===2===\u539f\u6765\u662f\u7ad6\u5217\u5230\u4e34\u65f6,\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500====================="+t.to),t.to){case 1:$=this.lin1list[0],e.push($),this.lin1list.remove($);break;case 2:$=this.lin2list[0],e.push($),this.lin2list.remove($);break;case 3:$=this.lin3list[0],e.push($),this.lin3list.remove($);break;case 4:$=this.lin4list[0],e.push($),this.lin4list.remove($);break;case 5:-1!=($=this.getTakeitback(t.name))&&(e.push($),this.hui1list.remove($));break;case 6:-1!=($=this.getTakeitback(t.name))&&(e.push($),this.hui2list.remove($));break;case 7:-1!=($=this.getTakeitback(t.name))&&(console.log("cardback.type=2=7========= temp_Node="+$.name),e.push($),this.hui3list.remove($));break;case 8:-1!=($=this.getTakeitback(t.name))&&(console.log("cardback.type=2=8========= temp_Node="+$.name),e.push($),this.hui4list.remove($))}switch(console.log("dobackMove===2===\u539f\u6765\u662f\u7ad6\u5217\u5230\u4e34\u65f6,\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500====================="+$),t.from){case 1:var S=this.content.getChildByName("di1").getPosition();this.di1List.length>0&&(S=this.di1List[this.di1List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di1").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(1,$),this.backPaiList.remove(t),this.setNewLoaction(1),this.dobackMove()},this,$),C=cc.moveTo(.1,S),f=cc.sequence(C,L);$.runAction(f);break;case 2:var z=this.content.getChildByName("di2").getPosition();this.di2List.length>0&&(z=this.di2List[this.di2List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di2").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(2,$),this.backPaiList.remove(t),this.setNewLoaction(2),this.dobackMove()},this,$),C=cc.moveTo(.1,z),f=cc.sequence(C,L);$.runAction(f);break;case 3:var W=this.content.getChildByName("di3").getPosition();this.di3List.length>0&&(W=this.di3List[this.di3List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di3").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(3,$),this.backPaiList.remove(t),this.setNewLoaction(3),this.dobackMove()},this,$),C=cc.moveTo(.1,W),f=cc.sequence(C,L);$.runAction(f);break;case 4:var U=this.content.getChildByName("di4").getPosition();this.di4List.length>0&&(U=this.di4List[this.di4List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di4").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(4,$),this.backPaiList.remove(t),this.setNewLoaction(4),this.dobackMove()},this,$),C=cc.moveTo(.1,U),f=cc.sequence(C,L);$.runAction(f);break;case 5:var q=this.content.getChildByName("di5").getPosition();this.di5List.length>0&&(q=this.di5List[this.di5List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di5").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(5,$),this.backPaiList.remove(t),this.setNewLoaction(5),this.dobackMove()},this,$),C=cc.moveTo(.1,q),f=cc.sequence(C,L);$.runAction(f);break;case 6:var X=this.content.getChildByName("di6").getPosition();this.di6List.length>0&&(X=this.di6List[this.di6List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di6").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(6,$),this.backPaiList.remove(t),this.setNewLoaction(6),this.dobackMove()},this,$),C=cc.moveTo(.1,X),f=cc.sequence(C,L);$.runAction(f);break;case 7:var Y=this.content.getChildByName("di7").getPosition();this.di7List.length>0&&(Y=this.di7List[this.di7List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di7").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(7,$),this.backPaiList.remove(t),this.setNewLoaction(7),this.dobackMove()},this,$),C=cc.moveTo(.1,Y),f=cc.sequence(C,L);$.runAction(f);break;case 8:var K=this.content.getChildByName("di8").getPosition();this.di8List.length>0&&(K=this.di8List[this.di8List.length-1].getPosition());L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.content.getChildByName("di8").getPosition(),o=this.di1List.length;$.setPosition(cc.v2(n.x,n.y-25*o)),$.zIndex=o,this.addVerticalIndex(8,$),this.backPaiList.remove(t),this.setNewLoaction(8),this.dobackMove()},this,$),C=cc.moveTo(.1,K),f=cc.sequence(C,L);$.runAction(f)}this.backPaiList.remove(t)}if(3==t.type){switch(console.log("dobackMove==3====\u539f\u6765\u662f\u4e34\u65f6\u4f4d\u7f6e\u5230\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500====================="+t.to),t.to){case 5:-1!=($=this.getTakeitback(t.name))&&this.hui1list.remove($);break;case 6:-1!=($=this.getTakeitback(t.name))&&this.hui2list.remove($);break;case 7:-1!=($=this.getTakeitback(t.name))&&this.hui3list.remove($);break;case 8:-1!=($=this.getTakeitback(t.name))&&this.hui4list.remove($)}switch(console.log("dobackMove======\u539f\u6765\u662f\u4e34\u65f6\u4f4d\u7f6e\u5230\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500=============="+t.from),console.log("dobackMove======\u539f\u6765\u662f\u4e34\u65f6\u4f4d\u7f6e\u5230\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500=============="+$.name),t.from){case 1:var j=this.content.getChildByName("lin1").getPosition();L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),$.setPosition(j),this.lin1list.push($),this.backPaiList.remove(t),i.dobackMove()},this,$),C=cc.moveTo(.1,j),f=cc.sequence(C,L);$.runAction(f);break;case 2:var J=this.content.getChildByName("lin2").getPosition();L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),$.setPosition(J),this.lin2list.push($),this.backPaiList.remove(t),i.dobackMove()},this,$),C=cc.moveTo(.1,J),f=cc.sequence(C,L);$.runAction(f);break;case 3:var Z=this.content.getChildByName("lin3").getPosition();L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),$.setPosition(Z),this.lin3list.push($),this.backPaiList.remove(t),i.dobackMove()},this,$),C=cc.moveTo(.1,Z),f=cc.sequence(C,L);$.runAction(f);break;case 4:var Q=this.content.getChildByName("lin4").getPosition();L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),$.setPosition(Q),this.lin4list.push($),this.backPaiList.remove(t),i.dobackMove()},this,$),C=cc.moveTo(.1,Q),f=cc.sequence(C,L);$.runAction(f)}}if(4==t.type){var $;switch(console.log("dobackState===cardback.type4========\u539f\u6765\u662f\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\uff0c\u64a4\u9500=="+t.to+"=="+t.from),$=this.getVerticalIndexByString(t.name),console.log("dobackState====cardback.type4=======\u539f\u6765\u662f\u4e34\u65f6\u4f4d\u7f6e\u5230\u7ad6\u5217\u4f4d\u7f6e\uff0c\u64a4\u9500=="+$.name),t.from){case 1:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),s.setPosition(this.content.getChildByName("lin1").getPosition()),i.lin1list.push($),this.backPaiList.remove(t),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to),i.dobackMove()},this,$),C=cc.moveTo(.1,this.content.getChildByName("lin1").getPosition()),f=cc.sequence(C,L);$.runAction(f);break;case 2:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),s.setPosition(this.content.getChildByName("lin2").getPosition()),this.lin2list.push($),this.backPaiList.remove(t),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to),i.dobackMove()},this,$),C=cc.moveTo(.1,this.content.getChildByName("lin2").getPosition()),f=cc.sequence(C,L);$.runAction(f);break;case 3:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),s.setPosition(this.content.getChildByName("lin3").getPosition()),this.lin3list.push($),this.backPaiList.remove(t),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to),i.dobackMove()},this,$),C=cc.moveTo(.1,this.content.getChildByName("lin3").getPosition()),f=cc.sequence(C,L);$.runAction(f);break;case 4:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),s.setPosition(this.content.getChildByName("lin4").getPosition()),this.lin4list.push($),this.backPaiList.remove(t),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to),i.dobackMove()},this,$),C=cc.moveTo(.1,this.content.getChildByName("lin4").getPosition()),f=cc.sequence(C,L);$.runAction(f)}this.backPaiList.remove(t)}}else this.back.getComponent(cc.Button).interactable=!0,this.onVerticalCardTouch()}else this.back.getComponent(cc.Button).interactable=!0},getTakeitback:function(t){for(var i=0;i<this.hui1list.length;i++)if(this.hui1list[i].name==t)return this.hui1list[i];for(var e=0;e<this.hui2list.length;e++)if(this.hui2list[e].name==t)return this.hui2list[e];for(var s=0;s<this.hui3list.length;s++)if(this.hui3list[s].name==t)return this.hui3list[s];for(var n=0;n<this.hui4list.length;n++)if(this.hui4list[n].name==t)return this.hui4list[n];return-1},IsSucceed:function(){var t=n.IsSucceed();return t},IsNoWay:function(){var t=n.IsNoWay();return t},getTempList:function(t){return this.lin1list.length>0&&this.lin1list[0].name==t?this.lin1list[0]:this.lin2list.length>0&&this.lin2list[0].name==t?this.lin2list[0]:this.lin3list.length>0&&this.lin3list[0].name==t?this.lin3list[0]:this.lin4list.length>0&&this.lin4list[0].name==t?this.lin4list[0]:-1},deleteTempList:function(t,i){switch(t){case 1:this.lin1list.remove(i);break;case 2:this.lin2list.remove(i);break;case 3:this.lin3list.remove(i);break;case 4:this.lin4list.remove(i)}},searchTempListNodeNum:function(t){return this.lin1list.length>0&&this.lin1list[0].name==t?1:this.lin2list.length>0&&this.lin2list[0].name==t?2:this.lin3list.length>0&&this.lin3list[0].name==t?3:this.lin4list.length>0&&this.lin4list[0].name==t?4:-1},searchNode:function(t){return this.getVerticalIndexByString(t)},getVerticalIndexByString:function(t){for(var i=0;i<this.di1List.length;i++){var e=this.di1List[i];if(t==e.name)return e}for(var s=0;s<this.di2List.length;s++){var n=this.di2List[s];if(t==n.name)return n}for(var o=0;o<this.di3List.length;o++){var a=this.di3List[o];if(t==a.name)return a}for(var h=0;h<this.di4List.length;h++){var c=this.di4List[h];if(t==c.name)return c}for(var r=0;r<this.di5List.length;r++){var d=this.di5List[r];if(t==d.name)return d}for(var l=0;l<this.di6List.length;l++){var u=this.di6List[l];if(t==u.name)return u}for(var m=0;m<this.di7List.length;m++){var g=this.di7List[m];if(t==g.name)return g}for(var p=0;p<this.di8List.length;p++){var v=this.di8List[p];if(t==v.name)return v}return-1},addBackPaiList:function(t,i,e,n,o,a){console.log("addBackPaiList===========addBackPaiList=="+a);var h=new s;h.from=t,h.to=i,h.size=e,h.type=n,h.step=o,h.name=a,this.backPaiList.push(h)},setSrcLoaction:function(t){switch(t){case 1:for(var i=0;i<this.di1List.length;i++){var e=this.di1List[i],s=this.content.getChildByName("di1").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 2:for(i=0;i<this.di2List.length;i++){e=this.di2List[i],s=this.content.getChildByName("di2").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 3:for(i=0;i<this.di3List.length;i++){e=this.di3List[i],s=this.content.getChildByName("di3").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 4:for(i=0;i<this.di4List.length;i++){e=this.di4List[i],s=this.content.getChildByName("di4").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 5:for(i=0;i<this.di5List.length;i++){e=this.di5List[i],s=this.content.getChildByName("di5").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 6:for(i=0;i<this.di6List.length;i++){e=this.di6List[i],s=this.content.getChildByName("di6").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 7:for(i=0;i<this.di7List.length;i++){e=this.di7List[i],s=this.content.getChildByName("di7").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 8:for(i=0;i<this.di8List.length;i++){e=this.di8List[i],s=this.content.getChildByName("di8").getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}}},setNewLoaction:function(t){switch(t){case 1:var i=this.di1List.length,e=this.content.getChildByName("di1").getPosition(),s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(var n=0;n<this.di1List.length;n++){this.di1List[n].setPosition(cc.v2(e.x,e.y-n*s))}break;case 2:i=this.di2List.length;var o=this.content.getChildByName("di2").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di2List.length;n++){this.di2List[n].setPosition(cc.v2(o.x,o.y-n*s))}break;case 3:i=this.di3List.length;var a=this.content.getChildByName("di3").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di3List.length;n++){this.di3List[n].setPosition(cc.v2(a.x,a.y-n*s))}break;case 4:i=this.di4List.length;var h=this.content.getChildByName("di4").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di4List.length;n++){this.di4List[n].setPosition(cc.v2(h.x,h.y-n*s))}break;case 5:i=this.di5List.length;var c=this.content.getChildByName("di5").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di5List.length;n++){this.di5List[n].setPosition(cc.v2(c.x,c.y-n*s))}break;case 6:i=this.di6List.length;var r=this.content.getChildByName("di6").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di6List.length;n++){this.di6List[n].setPosition(cc.v2(r.x,r.y-n*s))}break;case 7:i=this.di7List.length;var d=this.content.getChildByName("di7").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di7List.length;n++){this.di7List[n].setPosition(cc.v2(d.x,d.y-n*s))}break;case 8:i=this.di8List.length;var l=this.content.getChildByName("di8").getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-(i-7));for(n=0;n<this.di8List.length;n++){this.di8List[n].setPosition(cc.v2(l.x,l.y-n*s))}}},movePai:function(t,i,e){switch(this.tempList=[],t){case 1:var s=this.getNzhang(t);if(this.di1List.length>0){for(var n=0,o=this.di1List.length-1;o>=0&&(n++,this.tempList.push(this.di1List[o]),this.di1List[o].zIndex=255-n,this.di1List[o].x+=i,this.di1List[o].y+=e,n!=s);o--);return this.tempList}break;case 2:s=this.getNzhang(t);if(this.di2List.length>0){for(n=0,o=this.di2List.length-1;o>=0&&(n++,this.tempList.push(this.di2List[o]),this.di2List[o].zIndex=255-n,this.di2List[o].x+=i,this.di2List[o].y+=e,n!=s);o--);return this.tempList}break;case 3:s=this.getNzhang(t);if(this.di3List.length>0){for(n=0,o=this.di3List.length-1;o>=0&&(n++,this.tempList.push(this.di3List[o]),this.di3List[o].zIndex=255-n,this.di3List[o].x+=i,this.di3List[o].y+=e,n!=s);o--);return this.tempList}break;case 4:s=this.getNzhang(t);if(this.di4List.length>0){for(n=0,o=this.di4List.length-1;o>=0&&(n++,this.tempList.push(this.di4List[o]),this.di4List[o].zIndex=255-n,this.di4List[o].x+=i,this.di4List[o].y+=e,n!=s);o--);return this.tempList}break;case 5:s=this.getNzhang(t);if(this.di5List.length>0){for(n=0,o=this.di5List.length-1;o>=0&&(n++,this.tempList.push(this.di5List[o]),this.di5List[o].zIndex=255-n,this.di5List[o].x+=i,this.di5List[o].y+=e,n!=s);o--);return this.tempList}break;case 6:s=this.getNzhang(t);if(this.di6List.length>0){for(n=0,o=this.di6List.length-1;o>=0&&(n++,this.tempList.push(this.di6List[o]),this.di6List[o].zIndex=255-n,this.di6List[o].x+=i,this.di6List[o].y+=e,n!=s);o--);return this.tempList}break;case 7:s=this.getNzhang(t);if(this.di7List.length>0){for(n=0,o=this.di7List.length-1;o>=0&&(n++,this.tempList.push(this.di7List[o]),this.di7List[o].zIndex=255-n,this.di7List[o].x+=i,this.di7List[o].y+=e,n!=s);o--);return this.tempList}break;case 8:s=this.getNzhang(t);if(this.di8List.length>0){for(n=0,o=this.di8List.length-1;o>=0&&(n++,this.tempList.push(this.di8List[o]),this.di8List[o].zIndex=255-n,this.di8List[o].x+=i,this.di8List[o].y+=e,n!=s);o--);return this.tempList}}},GetWantMoveCount:function(){return n.m_wantmovecount},GetCanMoveCount:function(){return n.m_canmovecount},CheckMoveListToEmpty:function(){return n.CheckMoveListToEmpty()},DoCheckOverToEmpty:function(t){n.DoCheckOverToEmpty(t)},getNzhang:function(t){switch(t){case 1:return this.vGroup_1;case 2:return this.vGroup_2;case 3:return this.vGroup_3;case 4:return this.vGroup_4;case 5:return this.vGroup_5;case 6:return this.vGroup_6;case 7:return this.vGroup_7;case 8:return this.vGroup_8}},addVerticalIndex:function(t,i){switch(t){case 1:this.di1List.push(i);break;case 2:this.di2List.push(i);break;case 3:this.di3List.push(i);break;case 4:this.di4List.push(i);break;case 5:this.di5List.push(i);break;case 6:this.di6List.push(i);break;case 7:this.di7List.push(i);break;case 8:this.di8List.push(i)}},removeVerticalIndex:function(t,i){switch(t){case 1:this.di1List.remove(i);break;case 2:this.di2List.remove(i);break;case 3:this.di3List.remove(i);break;case 4:this.di4List.remove(i);break;case 5:this.di5List.remove(i);break;case 6:this.di6List.remove(i);break;case 7:this.di7List.remove(i);break;case 8:this.di8List.remove(i)}},getVerticalIndex:function(t){for(var i=0;i<this.di1List.length;i++){if(this.di1List[i].name==t.name)return 1}for(var e=0;e<this.di2List.length;e++){if(this.di2List[e].name==t.name)return 2}for(var s=0;s<this.di3List.length;s++){if(this.di3List[s].name==t.name)return 3}for(var n=0;n<this.di4List.length;n++){if(this.di4List[n].name==t.name)return 4}for(var o=0;o<this.di5List.length;o++){if(this.di5List[o].name==t.name)return 5}for(var a=0;a<this.di6List.length;a++){if(this.di6List[a].name==t.name)return 6}for(var h=0;h<this.di7List.length;h++){if(this.di7List[h].name==t.name)return 7}for(var c=0;c<this.di8List.length;c++){if(this.di8List[c].name==t.name)return 8}return 0},getRowIndex:function(t){for(var i=0;i<this.di1List.length;i++){if(this.di1List[i].name==t.name)return i}for(var e=0;e<this.di2List.length;e++){if(this.di2List[e].name==t.name)return e}for(var s=0;s<this.di3List.length;s++){if(this.di3List[s].name==t.name)return s}for(var n=0;n<this.di4List.length;n++){if(this.di4List[n].name==t.name)return n}for(var o=0;o<this.di5List.length;o++){if(this.di5List[o].name==t.name)return o}for(var a=0;a<this.di6List.length;a++){if(this.di6List[a].name==t.name)return a}for(var h=0;h<this.di7List.length;h++){if(this.di7List[h].name==t.name)return h}for(var c=0;c<this.di8List.length;c++){if(this.di8List[c].name==t.name)return c}return-1},initGroup:function(){this.di1List=[],this.di2List=[],this.di3List=[],this.di4List=[],this.di5List=[],this.di6List=[],this.di7List=[],this.di8List=[],this.hui2list=[],this.hui1list=[],this.hui3list=[],this.hui4list=[],this.tempList=[],this.lin1list=[],this.lin2list=[],this.lin3list=[],this.lin4list=[],this.backPaiList=[],this.isplay=!1,this.di1List=[],this.di2List=[],this.di3List=[],this.di4List=[],this.di5List=[],this.di6List=[],this.di7List=[],this.di8List=[],this.isBegin=!1;for(var t=0;t<this.allCard.length;t++)this.allCard[t].destroy();this.step=0,this.backPaiList=[],this.allCard=[],this.m_DealGroupNum=0,this.m_DealGroupRow=0,this.m_DealCount=-1},cleanGroup:function(){this.di1List=[],this.di2List=[],this.di3List=[],this.di4List=[],this.di5List=[],this.di6List=[],this.di7List=[],this.di8List=[],this.hui2list=[],this.hui1list=[],this.hui3list=[],this.hui4list=[],this.tempList=[],this.lin1list=[],this.lin2list=[],this.lin3list=[],this.lin4list=[],this.backPaiList=[]},GetImgIndex:function(t){switch(t){case FREE_NONE:case FIRST_KING:case SECOND_KING:return-1;case HEI_TWO:return 0;case HONG_TWO:return 1;case MEI_TWO:return 2;case FANG_TWO:return 3;case HEI_THREE:return 4;case HONG_THREE:return 5;case MEI_THREE:return 6;case FANG_THREE:return 7;case HEI_FORE:return 8;case HONG_FORE:return 9;case MEI_FORE:return 10;case FANG_FORE:return 11;case HEI_FIVE:return 12;case HONG_FIVE:return 13;case MEI_FIVE:return 14;case FANG_FIVE:return 15;case HEI_SIX:return 16;case HONG_SIX:return 17;case MEI_SIX:return 18;case FANG_SIX:return 19;case HEI_SEVEN:return 20;case HONG_SEVEN:return 21;case MEI_SEVEN:return 22;case FANG_SEVEN:return 23;case HEI_EIGHT:return 24;case HONG_EIGHT:return 25;case MEI_EIGHT:return 26;case FANG_EIGHT:return 27;case HEI_NINE:return 28;case HONG_NINE:return 29;case MEI_NINE:return 30;case FANG_NINE:return 31;case HEI_TEN:return 32;case HONG_TEN:return 33;case MEI_TEN:return 34;case FANG_TEN:return 35;case HEI_ELEVEN:return 36;case HONG_ELEVEN:return 37;case MEI_ELEVEN:return 38;case FANG_ELEVEN:return 39;case HEI_TWELVE:return 40;case HONG_TWELVE:return 41;case MEI_TWELVE:return 42;case FANG_TWELVE:return 43;case HEI_THIRTEEN:return 44;case HONG_THIRTEEN:return 45;case MEI_THIRTEEN:return 46;case FANG_THIRTEEN:return 47;case HEI_A:return 48;case HONG_A:return 49;case MEI_A:return 50;case FANG_A:return 51}return-1},initPaiImange:function(){this.bmpAllCards=new Array,this.bmpAllCards[0]="lss2",this.bmpAllCards[1]="lsh2",this.bmpAllCards[2]="lsc2",this.bmpAllCards[3]="lsd2",this.bmpAllCards[4]="lss3",this.bmpAllCards[5]="lsh3",this.bmpAllCards[6]="lsc3",this.bmpAllCards[7]="lsd3",this.bmpAllCards[8]="lss4",this.bmpAllCards[9]="lsh4",this.bmpAllCards[10]="lsc4",this.bmpAllCards[11]="lsd4",this.bmpAllCards[12]="lss5",this.bmpAllCards[13]="lsh5",this.bmpAllCards[14]="lsc5",this.bmpAllCards[15]="lsd5",this.bmpAllCards[16]="lss6",this.bmpAllCards[17]="lsh6",this.bmpAllCards[18]="lsc6",this.bmpAllCards[19]="lsd6",this.bmpAllCards[20]="lss7",this.bmpAllCards[21]="lsh7",this.bmpAllCards[22]="lsc7",this.bmpAllCards[23]="lsd7",this.bmpAllCards[24]="lss8",this.bmpAllCards[25]="lsh8",this.bmpAllCards[26]="lsc8",this.bmpAllCards[27]="lsd8",this.bmpAllCards[28]="lss9",this.bmpAllCards[29]="lsh9",this.bmpAllCards[30]="lsc9",this.bmpAllCards[31]="lsd9",this.bmpAllCards[32]="lss10",this.bmpAllCards[33]="lsh10",this.bmpAllCards[34]="lsc10",this.bmpAllCards[35]="lsd10",this.bmpAllCards[36]="lss11",this.bmpAllCards[37]="lsh11",this.bmpAllCards[38]="lsc11",this.bmpAllCards[39]="lsd11",this.bmpAllCards[40]="lss12",this.bmpAllCards[41]="lsh12",this.bmpAllCards[42]="lsc12",this.bmpAllCards[43]="lsd12",this.bmpAllCards[44]="lss13",this.bmpAllCards[45]="lsh13",this.bmpAllCards[46]="lsc13",this.bmpAllCards[47]="lsd13",this.bmpAllCards[48]="lss1",this.bmpAllCards[49]="lsh1",this.bmpAllCards[50]="lsc1",this.bmpAllCards[51]="lsd1"},random:function(t,i){return t=t||1,i=i||0,Math.seed=(9301*Math.seed+49297)%233280,i+Math.seed/233280*(t-i)},randomNum:function(t,i){return Math.floor(Math.random()*(t-i+1)+i)},GetCARD:function(t,i){switch(t){case 0:switch(i){case 0:return MEI_A;case 1:return MEI_TWO;case 2:return MEI_THREE;case 3:return MEI_FORE;case 4:return MEI_FIVE;case 5:return MEI_SIX;case 6:return MEI_SEVEN;case 7:return MEI_EIGHT;case 8:return MEI_NINE;case 9:return MEI_TEN;case 10:return MEI_ELEVEN;case 11:return MEI_TWELVE;case 12:return MEI_THIRTEEN}break;case 1:switch(i){case 0:return FANG_A;case 1:return FANG_TWO;case 2:return FANG_THREE;case 3:return FANG_FORE;case 4:return FANG_FIVE;case 5:return FANG_SIX;case 6:return FANG_SEVEN;case 7:return FANG_EIGHT;case 8:return FANG_NINE;case 9:return FANG_TEN;case 10:return FANG_ELEVEN;case 11:return FANG_TWELVE;case 12:return FANG_THIRTEEN}break;case 2:switch(i){case 0:return HONG_A;case 1:return HONG_TWO;case 2:return HONG_THREE;case 3:return HONG_FORE;case 4:return HONG_FIVE;case 5:return HONG_SIX;case 6:return HONG_SEVEN;case 7:return HONG_EIGHT;case 8:return HONG_NINE;case 9:return HONG_TEN;case 10:return HONG_ELEVEN;case 11:return HONG_TWELVE;case 12:return HONG_THIRTEEN}break;case 3:switch(i){case 0:return HEI_A;case 1:return HEI_TWO;case 2:return HEI_THREE;case 3:return HEI_FORE;case 4:return HEI_FIVE;case 5:return HEI_SIX;case 6:return HEI_SEVEN;case 7:return HEI_EIGHT;case 8:return HEI_NINE;case 9:return HEI_TEN;case 10:return HEI_ELEVEN;case 11:return HEI_TWELVE;case 12:return HEI_THIRTEEN}}return FREE_NONE}}),cc._RF.pop()},{FCCardNode:"FCCardNode",TFreeMange:"TFreeMange"}],Game:[function(t,i,e){"use strict";var s;function n(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}cc._RF.push(i,"280c3rsZJJKnZ9RqbALVwtK","Game");var o=t("FCCardNode"),a=t("TFreeMange");Array.prototype.remove=function(t){var i=this.indexOf(t);i>-1&&this.splice(i,1)},cc.Class((n(s={extends:cc.Component,properties:{label:{default:null,type:cc.Label},paiPrefab:{default:null,type:cc.Prefab},diNoteGroup:{default:null,type:cc.Node},text:"Hello, World!",gameNumeNode:{default:null,type:cc.Node},editboxNum:{default:null,type:cc.EditBox},beginButton:{default:null,type:cc.Button},deal:{default:null,type:cc.Node},di1:{default:null,type:cc.Node},di1List:[],di2:{default:null,type:cc.Node},di2List:[],di3:{default:null,type:cc.Node},di3List:[],di4:{default:null,type:cc.Node},di4List:[],di5:{default:null,type:cc.Node},di5List:[],di6:{default:null,type:cc.Node},di6List:[],di7:{default:null,type:cc.Node},di7List:[],di8:{default:null,type:cc.Node},di8List:[],shownum:cc.Node,cards:[],order:[],bmpAllCards:[],allCard:[],chongwan:cc.Node,m_DealGroupNum:0,m_DealGroupRow:1,m_DealCount:0,lin1:cc.Node,lin2:cc.Node,lin3:cc.Node,lin4:cc.Node,hui1:cc.Node,hui2:cc.Node,hui3:cc.Node,hui4:cc.Node,vGroup_1:0,vGroup_2:0,vGroup_3:0,vGroup_4:0,vGroup_5:0,vGroup_6:0,vGroup_7:0,vGroup_8:0,tempList:[],backPaiList:[],step:0,lastStep:0,isMoveState:!1,ifMove:!1,ifTempMove:!1,linX:0,msg:cc.Node,noway:cc.Node,tishi:cc.Node,gameNume:1e3,put:{default:null,type:cc.AudioClip},anSound:{default:null,type:cc.AudioClip},isplay:!1,shoupaiNum:0,isBegin:!1,backgroud:cc.Node,cardTopHeight:40,zoomScaleX:1,zoomScaleY:1,zoomScaleX_T:1,zoomScaleY_T:1,timelabel:cc.Node,millisecond:0,hour:0,minute:0,second:0,testDetectionNode:cc.RichText},resize:function(){cc.director.getWinSize()},onLoad:function(){this.resize();cc},update:function(t){},Reset:function(){this.millisecond=this.hour=this.minute=this.second=0},timer:function(){this.second=this.second+1,this.second>=60&&(this.second=0,this.minute=this.minute+1),this.minute>=60&&(this.minute=0,this.hour=this.hour+1)},start:function(){cc.debug.setDisplayStats(!1),this.shownum.zIndex=9999,this.timelabel.zIndex=9999,void 0!=window.wx&&(window.wx.showShareMenu({withShareTicket:!0}),this.tex=new cc.Texture2D,window.sharedCanvas.width=720,window.sharedCanvas.height=1280,window.wx.onShareAppMessage(function(){return{title:"\u7a7a\u5f53\u63a5\u9f99",imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400})}}))},jishiqi:function(){this.Reset(),this.callbackjishiqi=function(){this.timer()},this.schedule(this.callbackjishiqi,1)},startgame:function(){console.log("startgame"),this.backgroud.active=!1},beginGame:function(){this.editboxNum.string=this.randomNum(1e4,1),console.log("begin \u7f16\u53f7======="+this.editboxNum.string),this.gameNumeNode.active=!1,this.gameNume=this.editboxNum.string,this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume}},"onLoad",function(){this.resize(),this.backPaiList=new Array,this.msg.active=!1,this.tishi.getChildByName("newgamenum").getComponent(cc.EditBox).node.on("text-changed",this.textcallback,this),this.editboxNum.node.on("text-changed",this.textcallback,this),this.editboxNum.node.on("editing-did-began",this.startgameEditing,this)}),n(s,"startgameEditing",function(t){}),n(s,"textcallback",function(t){var i=(t=t).string;this.isNumber(i)||(t.string="")}),n(s,"isNumber",function(t){return null!=/^[0-9]*$/.exec(t)&&""!=t}),n(s,"resizeCard",function(){}),n(s,"resize",function(){cc.view.getFrameSize();var t=cc.director.getWinSize();cc.view.setDesignResolutionSize(t.width,t.height,cc.ResolutionPolicy.EXACT_FIT)}),n(s,"getBeginNum",function(t){console.log("getBeginNum======="+t),this.editboxNum.node.active=!1,this.beginButton.node.active=!1,this.initPaiImange(),this.Begin(t),this.isBegin=!0,console.log("begin num==this.random(10000000,1)===="+this.randomNum(1e5,1))}),n(s,"testdata",function(){TPaneData.m_Data=new Array;for(var t=0;t<8;t++){TPaneData.m_Data[t]=new Array;for(var i=0;i<MAX_CARD_COUNT;i++)TPaneData.m_Data[t][i]=new Array,TPaneData.m_Data[t][i]=FREE_NONE}TPaneData.m_MidTo=new Array;for(t=0;t<8;t++)TPaneData.m_MidTo[t]=FREE_NONE;var e=[212,195,180,161,146,129,114,97,82,67,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,210,193,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,130,209,162,66,145,115,100,81,68,51,36,0,0,0,0,0,0,0,0,0,194,20,178,34,196,179,164,147,132,0,0,0,0,0,0,0,0,0,0,0,113,98,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,163,148,131,116,99,84,65,0,0,0,0,0,0,0,0,0,0,0,0,0,177,50,0,49,18,35,0],s=0,n=[0,66,131,0,18,17,35,0];for(t=0;t<8;t++)for(i=0;i<MAX_CARD_COUNT;i++)TPaneData.m_Data[t][i]=e[s],s++;for(t=0;t<8;t++)TPaneData.m_MidTo[t]=n[t]}),n(s,"initPaiImange",function(){this.bmpAllCards=new Array,this.bmpAllCards[0]="lss2",this.bmpAllCards[1]="lsh2",this.bmpAllCards[2]="lsc2",this.bmpAllCards[3]="lsd2",this.bmpAllCards[4]="lss3",this.bmpAllCards[5]="lsh3",this.bmpAllCards[6]="lsc3",this.bmpAllCards[7]="lsd3",this.bmpAllCards[8]="lss4",this.bmpAllCards[9]="lsh4",this.bmpAllCards[10]="lsc4",this.bmpAllCards[11]="lsd4",this.bmpAllCards[12]="lss5",this.bmpAllCards[13]="lsh5",this.bmpAllCards[14]="lsc5",this.bmpAllCards[15]="lsd5",this.bmpAllCards[16]="lss6",this.bmpAllCards[17]="lsh6",this.bmpAllCards[18]="lsc6",this.bmpAllCards[19]="lsd6",this.bmpAllCards[20]="lss7",this.bmpAllCards[21]="lsh7",this.bmpAllCards[22]="lsc7",this.bmpAllCards[23]="lsd7",this.bmpAllCards[24]="lss8",this.bmpAllCards[25]="lsh8",this.bmpAllCards[26]="lsc8",this.bmpAllCards[27]="lsd8",this.bmpAllCards[28]="lss9",this.bmpAllCards[29]="lsh9",this.bmpAllCards[30]="lsc9",this.bmpAllCards[31]="lsd9",this.bmpAllCards[32]="lss10",this.bmpAllCards[33]="lsh10",this.bmpAllCards[34]="lsc10",this.bmpAllCards[35]="lsd10",this.bmpAllCards[36]="lss11",this.bmpAllCards[37]="lsh11",this.bmpAllCards[38]="lsc11",this.bmpAllCards[39]="lsd11",this.bmpAllCards[40]="lss12",this.bmpAllCards[41]="lsh12",this.bmpAllCards[42]="lsc12",this.bmpAllCards[43]="lsd12",this.bmpAllCards[44]="lss13",this.bmpAllCards[45]="lsh13",this.bmpAllCards[46]="lsc13",this.bmpAllCards[47]="lsd13",this.bmpAllCards[48]="lss1",this.bmpAllCards[49]="lsh1",this.bmpAllCards[50]="lsc1",this.bmpAllCards[51]="lsd1"}),n(s,"Begin",function(t){console.log("Begin======="+t),""==t&&(t=this.randomNum(1e4,1)),TPaneData.m_CardCount=0,TPaneData.m_Data=new Array;for(var i=0;i<8;i++){TPaneData.m_Data[i]=new Array;for(var e=0;e<MAX_CARD_COUNT;e++)TPaneData.m_Data[i][e]=new Array,TPaneData.m_Data[i][e]=FREE_NONE}TPaneData.m_MidTo=new Array;for(i=0;i<8;i++)TPaneData.m_MidTo[i]=FREE_NONE;var s,n;this.gameNume=t,this.cards=new Array,this.order=new Array;i=0;for(i=0;i<52;i++)this.order[i]=i;for(i=0;i<64;i++)this.cards[i]=-1;Math.seed=t;var o=1,h=1,c=1,r=1,d=1,l=1,u=1,m=1;for(this.di1List=new Array,this.di2List=new Array,this.di3List=new Array,this.di4List=new Array,this.di5List=new Array,this.di6List=new Array,this.di7List=new Array,this.di8List=new Array,i=0;i<52;i++){var g=this.random(1e8,1);switch(n=parseInt(g%(52-i)),s=(112&i)>>3|(7&i)<<3,this.cards[s]=this.order[n],this.order[n]=this.order[52-i-1],TPaneData.m_Data[i%8][parseInt(i/8)]=this.GetCARD(this.cards[s]%4,parseInt(this.cards[s]/4)),i%8){case 0:switch(parseInt(i/8)){case 0:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*o)),this.di1List.push(p),o++;break;case 1:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*h)),this.di2List.push(p),h++;break;case 2:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*c)),this.di3List.push(p),c++;break;case 3:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*r)),this.di4List.push(p),r++;break;case 4:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*d)),this.di5List.push(p),d++;break;case 5:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*l)),this.di6List.push(p),l++;break;case 6:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*u)),u++,this.di7List.push(p);break;case 7:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*m)),this.di8List.push(p),m++}break;case 1:case 2:case 3:case 4:case 5:case 6:case 7:switch(parseInt(i/8)){case 0:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*o)),this.di1List.push(p),o++;break;case 1:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*h)),this.di2List.push(p),h++;break;case 2:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*c)),this.di3List.push(p),c++;break;case 3:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*r)),this.di4List.push(p),r++;break;case 4:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*d)),this.di5List.push(p),d++;break;case 5:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*l)),this.di6List.push(p),l++;break;case 6:(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*u)),this.di7List.push(p),u++;break;case 7:var p;(p=cc.instantiate(this.paiPrefab)).name=TPaneData.m_Data[i%8][parseInt(i/8)]+"",p.setPosition(cc.v2(9,-60*m)),this.di8List.push(p),m++}}}a.tFreeMange(),console.log("====basepai="+this.diNoteGroup.getChildByName("deal").x+"======="+this.diNoteGroup.getChildByName("deal").y);for(var v=this.diNoteGroup.getChildByName("deal"),C=this.di7List.length-1;C>=0;C--){var L=this.di7List[C].name,f=this.GetImgIndex(parseInt(L)),N=cc.instantiate(this.paiPrefab),T=new cc.Node("Sprite"+this.bmpAllCards[f]);T.setPosition(cc.v2(v.x,v.y)),T.addChild(N),T.name=this.bmpAllCards[f]+"",this.diNoteGroup.addChild(T),this.allCard.push(T),N.getComponent("Card").initCard(this.bmpAllCards[f].charAt(2),this.bmpAllCards[f].substr(3,2))}for(var _=this.di6List.length-1;_>=0;_--){var b=this.di6List[_].name,x=this.GetImgIndex(parseInt(b)),E=cc.instantiate(this.paiPrefab),y=new cc.Node("Sprite"+this.bmpAllCards[x]);y.setPosition(cc.v2(v.x,v.y)),y.addChild(E),y.name=this.bmpAllCards[x]+"",this.diNoteGroup.addChild(y),this.allCard.push(y),E.getComponent("Card").initCard(this.bmpAllCards[x].charAt(2),this.bmpAllCards[x].substr(3,2))}for(var I=this.di5List.length-1;I>=0;I--){var P=this.di5List[I].name,k=this.GetImgIndex(parseInt(P)),D=cc.instantiate(this.paiPrefab),B=new cc.Node("Sprite"+this.bmpAllCards[k]);B.setPosition(cc.v2(v.x,v.y)),B.addChild(D),B.name=this.bmpAllCards[k]+"",this.diNoteGroup.addChild(B),this.allCard.push(B),D.getComponent("Card").initCard(this.bmpAllCards[k].charAt(2),this.bmpAllCards[k].substr(3,2))}for(var w=this.di4List.length-1;w>=0;w--){var G=this.di4List[w].name,A=this.GetImgIndex(parseInt(G)),M=cc.instantiate(this.paiPrefab),V=new cc.Node("Sprite"+this.bmpAllCards[A]);V.setPosition(cc.v2(v.x,v.y)),V.addChild(M),V.name=this.bmpAllCards[A]+"",this.diNoteGroup.addChild(V),this.allCard.push(V),M.getComponent("Card").initCard(this.bmpAllCards[A].charAt(2),this.bmpAllCards[A].substr(3,2))}for(var O=this.di3List.length-1;O>=0;O--){var R=this.di3List[O].name,H=this.GetImgIndex(parseInt(R)),F=cc.instantiate(this.paiPrefab),S=new cc.Node("Sprite"+this.bmpAllCards[H]);S.setPosition(cc.v2(v.x,v.y)),S.addChild(F),S.name=this.bmpAllCards[H]+"",this.diNoteGroup.addChild(S),this.allCard.push(S),F.getComponent("Card").initCard(this.bmpAllCards[H].charAt(2),this.bmpAllCards[H].substr(3,2))}for(var z=this.di2List.length-1;z>=0;z--){var W=this.di2List[z].name,U=this.GetImgIndex(parseInt(W)),q=cc.instantiate(this.paiPrefab),X=new cc.Node("Sprite"+this.bmpAllCards[U]);X.setPosition(cc.v2(v.x,v.y)),X.addChild(q),X.name=this.bmpAllCards[U]+"",this.diNoteGroup.addChild(X),this.allCard.push(X),q.getComponent("Card").initCard(this.bmpAllCards[U].charAt(2),this.bmpAllCards[U].substr(3,2))}for(var Y=this.di1List.length-1;Y>=0;Y--){var K=this.di1List[Y].name,j=this.GetImgIndex(parseInt(K)),J=cc.instantiate(this.paiPrefab),Z=new cc.Node("Sprite"+this.bmpAllCards[j]);Z.setPosition(cc.v2(v.x,v.y)),Z.addChild(J),Z.name=this.bmpAllCards[j]+"",this.diNoteGroup.addChild(Z),this.allCard.push(Z),J.getComponent("Card").initCard(this.bmpAllCards[j].charAt(2),this.bmpAllCards[j].substr(3,2))}this.cleanGroup(),this.resizeCard()}),n(s,"onVerticalCardTouchOFF",function(){for(var t=0;t<this.diNoteGroup.childrenCount;t++)this.diNoteGroup.children[t].children[0].off(cc.Node.EventType.TOUCH_START),this.diNoteGroup.children[t].children[0].off(cc.Node.EventType.TOUCH_MOVE),this.diNoteGroup.children[t].children[0].off(cc.Node.EventType.TOUCH_END),this.diNoteGroup.children[t].children[0].opacity=180,this.diNoteGroup.children[t].children[0].color=new cc.Color(128,128,128)}),n(s,"onVerticalCardTouch",function(){var t,i;this.onVerticalCardTouchOFF();var e,s=this;this.tempList=new Array,console.log("==\u89e6\u6478\u7ad6\u5217begin=");for(var n=0;n<this.di1List.length;n++)this.di1List[n].zIndex=n;for(var o=0;o<this.di2List.length;o++)this.di2List[o].zIndex=o;for(var a=0;a<this.di3List.length;a++)this.di3List[a].zIndex=a;for(var h=0;h<this.di4List.length;h++)this.di4List[h].zIndex=h;for(var c=0;c<this.di5List.length;c++)this.di5List[c].zIndex=c;for(var r=0;r<this.di6List.length;r++)this.di6List[r].zIndex=r;for(var d=0;d<this.di7List.length;d++)this.di7List[d].zIndex=d;for(var l=0;l<this.di8List.length;l++)this.di8List[l].zIndex=l;for(var u=new Array,m=0;m<u.length;m++)u[m].children[0].off(cc.Node.EventType.TOUCH_START),u[m].children[0].off(cc.Node.EventType.TOUCH_MOVE),u[m].children[0].off(cc.Node.EventType.TOUCH_END);var g=0;if(this.di1List.length>0)if(1==this.di1List.length)u[g]=this.di1List[this.di1List.length-1],g++,this.vGroup_1=1;else{for(var p=0,v=this.di1List.length-1;v>0;v--){if(this.di1List[v-1].children[0].getComponent("Card").pointNum-this.di1List[v].children[0].getComponent("Card").pointNum!=1||this.di1List[v].children[0].getComponent("Card").pointColor==this.di1List[v-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di1List[this.di1List.length-1],g++;break}break}p++}if(this.vGroup_1=p+1,p>0)for(var C=this.di1List.length-1;p>=0;)u[g]=this.di1List[C],g++,C--,p--}if(this.di2List.length)if(1==this.di2List.length)u[g]=this.di2List[this.di2List.length-1],g++,this.vGroup_2=1;else{p=0;for(var L=this.di2List.length-1;L>0;L--){if(this.di2List[L-1].children[0].getComponent("Card").pointNum-this.di2List[L].children[0].getComponent("Card").pointNum!=1||this.di2List[L].children[0].getComponent("Card").pointColor==this.di2List[L-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di2List[this.di2List.length-1],g++;break}break}p++}if(this.vGroup_2=p+1,p>0)for(C=this.di2List.length-1;p>=0;)u[g]=this.di2List[C],g++,C--,p--}if(this.di3List.length>0)if(1==this.di3List.length)u[g]=this.di3List[this.di3List.length-1],g++,this.vGroup_3=1;else{p=0;for(var f=this.di3List.length-1;f>0;f--){if(this.di3List[f-1].children[0].getComponent("Card").pointNum-this.di3List[f].children[0].getComponent("Card").pointNum!=1||this.di3List[f].children[0].getComponent("Card").pointColor==this.di3List[f-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di3List[this.di3List.length-1],g++;break}break}p++}if(this.vGroup_3=p+1,p>0)for(C=this.di3List.length-1;p>=0;)u[g]=this.di3List[C],g++,C--,p--}if(this.di4List.length>0)if(1==this.di4List.length)u[g]=this.di4List[this.di4List.length-1],g++,this.vGroup_4=1;else{p=0;for(var N=this.di4List.length-1;N>0;N--){if(this.di4List[N-1].children[0].getComponent("Card").pointNum-this.di4List[N].children[0].getComponent("Card").pointNum!=1||this.di4List[N].children[0].getComponent("Card").pointColor==this.di4List[N-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di4List[this.di4List.length-1],g++;break}break}p++}if(this.vGroup_4=p+1,p>0)for(C=this.di4List.length-1;p>=0;)u[g]=this.di4List[C],g++,C--,p--}if(this.di5List.length>0)if(1==this.di5List.length)u[g]=this.di5List[this.di5List.length-1],g++,this.vGroup_5=1;else{p=0;for(var T=this.di5List.length-1;T>0;T--){if(this.di5List[T-1].children[0].getComponent("Card").pointNum-this.di5List[T].children[0].getComponent("Card").pointNum!=1||this.di5List[T].children[0].getComponent("Card").pointColor==this.di5List[T-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di5List[this.di5List.length-1],g++;break}break}p++}if(this.vGroup_5=p+1,p>0)for(C=this.di5List.length-1;p>=0;)u[g]=this.di5List[C],g++,C--,p--}if(this.di6List.length>0)if(1==this.di6List.length)u[g]=this.di6List[this.di6List.length-1],g++,this.vGroup_6=1;else{p=0;for(var _=this.di6List.length-1;_>0;_--){if(this.di6List[_-1].children[0].getComponent("Card").pointNum-this.di6List[_].children[0].getComponent("Card").pointNum!=1||this.di6List[_].children[0].getComponent("Card").pointColor==this.di6List[_-1].children[0].getComponent("Card").pointColor||_-(_-1)!=1){if(0==p){u[g]=this.di6List[this.di6List.length-1],g++;break}break}p++}if(this.vGroup_6=p+1,p>0)for(C=this.di6List.length-1;p>=0;)u[g]=this.di6List[C],g++,C--,p--}if(this.di7List.length>0)if(1==this.di7List.length)u[g]=this.di7List[this.di7List.length-1],g++,this.vGroup_7=1;else{p=0;for(var b=this.di7List.length-1;b>0;b--){if(this.di7List[b-1].children[0].getComponent("Card").pointNum-this.di7List[b].children[0].getComponent("Card").pointNum!=1||this.di7List[b].children[0].getComponent("Card").pointColor==this.di7List[b-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di7List[this.di7List.length-1],g++;break}break}p++}if(this.vGroup_7=p+1,p>0)for(C=this.di7List.length-1;p>=0;)u[g]=this.di7List[C],g++,C--,p--}if(this.di8List.length>0)if(1==this.di8List.length)u[g]=this.di8List[this.di8List.length-1],g++,this.vGroup_8=1;else{p=0;for(var x=this.di8List.length-1;x>0;x--){if(this.di8List[x-1].children[0].getComponent("Card").pointNum-this.di8List[x].children[0].getComponent("Card").pointNum!=1||this.di8List[x].children[0].getComponent("Card").pointColor==this.di8List[x-1].children[0].getComponent("Card").pointColor){if(0==p){u[g]=this.di8List[this.di8List.length-1],g++;break}break}p++}if(this.vGroup_8=p+1,p>0)for(C=this.di8List.length-1;p>=0;)u[g]=this.di8List[C],g++,C--,p--}for(var E=1,y=0;y<u.length;y++){var I=u[y];I.children[0].opacity=255,I.children[0].color=new cc.Color(255,255,255),I.children[0].on(cc.Node.EventType.TOUCH_START,function(n){if(console.log("\u79fb\u52a8=TOUCH_START==VerticalIndexNum==="+E),!1===s.ifMove&&0==s.ifTempMove){n.touch.getDelta();t=this.getPosition().x,i=this.getPosition().y,s.lin1.parent.zIndex=0,s.diNoteGroup.zIndex=1,e=this.parent.zIndex,this.parent.zIndex=99,E=s.getVerticalIndex(this.parent),s.isMoveState=!1,s.ifMove=!0}},I.children[0]),I.children[0].on(cc.Node.EventType.TOUCH_MOVE,function(t){if(E=s.getVerticalIndex(this.parent),console.log("\u79fb\u52a8=TOUCH_MOVE==VerticalIndexNum==="+E),1==s.ifMove&&0==s.ifTempMove){var i=t.touch.getDelta();s.movePai(E,i.x,i.y)}},I.children[0]),I.children[0].on(cc.Node.EventType.TOUCH_END,function(n){E=s.getVerticalIndex(this.parent),console.log("\u79fb\u52a8=TOUCH_END==VerticalIndexNum==="+E),1==s.ifMove&&0==s.ifTempMove&&(this.opacity=255,this.parent.zIndex=e,console.log("\u653e\u4e0b======"),cc.audioEngine.playEffect(s.put),s.inNodeScopeToTemp(t,i,this.parent,s.lin1,s.lin2,s.lin3,s.lin4,s.hui4,s.hui3,s.hui2,s.hui1,n),s.inNodeVerticalToVertical(E,this.parent,n),s.autoTo(),s.ifMove=!1)},I.children[0]),I.children[0].on(cc.Node.EventType.TOUCH_CANCEL,function(n){E=s.getVerticalIndex(this.parent),console.log("\u79fb\u52a8=TOUCH_CANCEL==VerticalIndexNum==="+E),1==s.ifMove&&0==s.ifTempMove&&(this.opacity=255,this.parent.zIndex=e,cc.audioEngine.playEffect(s.put),s.inNodeScopeToTemp(t,i,this.parent,s.lin1,s.lin2,s.lin3,s.lin4,s.hui4,s.hui3,s.hui2,s.hui1,n),s.inNodeVerticalToVertical(E,this.parent,n),s.autoTo(),s.ifMove=!1)},I.children[0])}console.log("==\u89e6\u6478\u7ad6\u5217end=")}),n(s,"inNodeVerticalToVertical",function(t,i,e){0==this.di1List.length?this.di1:this.di1List[this.di1List.length-1],0==this.di2List.length?this.di2:this.di2List[this.di2List.length-1],0==this.di3List.length?this.di3:this.di3List[this.di3List.length-1],0==this.di4List.length?this.di4:this.di4List[this.di4List.length-1],0==this.di5List.length?this.di5:this.di5List[this.di5List.length-1],0==this.di6List.length?this.di6:this.di6List[this.di6List.length-1],0==this.di7List.length?this.di7:this.di7List[this.di7List.length-1],0==this.di8List.length?this.di8:this.di8List[this.di8List.length-1];var s=this.getVerticalIndex(i)-1,n=this.getRowIndex(i)+1;if(console.log("\u539f\u59cb\u4f4d\u7f6eVertical_x="+s+"==vertical_y="+n),console.log("\u539f\u59cb\u4f4d\u7f6e="+t),this.di1.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&1!=t){var o=0,h=0;0==this.di1List.length?(o=0,h=1):(o=this.getVerticalIndex(this.di1List[this.di1List.length-1])-1,h=this.getRowIndex(this.di1List[this.di1List.length-1])+1);var c=a.OnLButtonDown(s,n,o,h);if(console.log("\u5230\u7ad6\u5217"+o+"======"+h+"=====\u7ad6\u5217======1\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,1,c),this.onVerticalCardTouch(),!0;if(X=this.CheckMoveListToEmpty()){var r=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var d=this.GetCanMoveCount(),l=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==1=true==nn=="+l),console.log("\u5230\u7ad6\u5217checkmove==1=true==m_canmovecount=="+d);var u=1;d>l&&(d=l),r<d&&(d=r),console.log("\u5230\u7ad6\u5217checkmove==1=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+r),console.log("\u5230\u7ad6\u5217checkmove==1=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+d),console.log("\u5230\u7ad6\u5217checkmove==1=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),d>1?(this.moveUp(t,1,d),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,1,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,1,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var m=this.GetWantMoveCount(),g=this.GetCanMoveCount();if(g>0&&m>g){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=m,this.msg.getChildByName("my").getComponent(cc.Label).string=g;var p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di2.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&2!=t){var v=0,C=0;0==this.di2List.length?(v=1,C=1):(v=this.getVerticalIndex(this.di2List[this.di2List.length-1])-1,C=this.getRowIndex(this.di2List[this.di2List.length-1])+1);c=a.OnLButtonDown(s,n,v,C);console.log("\u5230\u7ad6\u5217"+v+"======"+C+"=========\u7ad6\u5217====2\u5230\u7ad6\u5217"+c);this.getNzhang(t);if(c>0)return this.moveUp(t,2,c),this.onVerticalCardTouch(),!0;if(X=this.CheckMoveListToEmpty()){var L=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var f=this.GetCanMoveCount(),N=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==2=true==nn=="+N),console.log("\u5230\u7ad6\u5217checkmove==2=true==m_canmovecount=="+f);u=1;f>N&&(f=N),L<f&&(f=L),console.log("\u5230\u7ad6\u5217checkmove==2=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+L),console.log("\u5230\u7ad6\u5217checkmove==2=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+f),console.log("\u5230\u7ad6\u5217checkmove==2=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),f>1?(this.moveUp(t,2,f),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,2,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,2,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var T=this.GetWantMoveCount(),_=this.GetCanMoveCount();if(_>0&&T>_){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=T,this.msg.getChildByName("my").getComponent(cc.Label).string=_;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di3.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&3!=t){var b=0,x=0;0==this.di3List.length?(b=2,x=1):(b=this.getVerticalIndex(this.di3List[this.di3List.length-1])-1,x=this.getRowIndex(this.di3List[this.di3List.length-1])+1,console.log("\u5230\u7ad6\u5217"+b+"======"+x+"=========\u7ad6\u5217===3"));c=a.OnLButtonDown(s,n,b,x);if(console.log("\u5230\u7ad6\u5217"+b+"======"+x+"=========\u7ad6\u5217===3\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,3,c),this.onVerticalCardTouch(),!0;if(X=this.CheckMoveListToEmpty()){var E=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var y=this.GetCanMoveCount(),I=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==3=true==nn=="+I),console.log("\u5230\u7ad6\u5217checkmove==3=true==m_canmovecount=="+y);u=1;y>I&&(y=I),E<y&&(y=E),console.log("\u5230\u7ad6\u5217checkmove==3=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+E),console.log("\u5230\u7ad6\u5217checkmove==3=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+y),console.log("\u5230\u7ad6\u5217checkmove==3=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),y>1?(this.moveUp(t,3,y),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,3,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,3,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var P=this.GetWantMoveCount(),k=this.GetCanMoveCount();if(k>0&&P>k){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=P,this.msg.getChildByName("my").getComponent(cc.Label).string=k;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di4.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&4!=t){var D=0,B=0;0==this.di4List.length?(D=3,B=1):(D=this.getVerticalIndex(this.di4List[this.di4List.length-1])-1,B=this.getRowIndex(this.di4List[this.di4List.length-1])+1);c=a.OnLButtonDown(s,n,D,B);if(console.log("\u5230\u7ad6\u5217"+D+"======"+B+"============\u7ad6\u5217=======4\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,4,c),this.onVerticalCardTouch(),!0;if(X=this.CheckMoveListToEmpty()){var w=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var G=this.GetCanMoveCount(),A=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==4=true==nn=="+A),console.log("\u5230\u7ad6\u5217checkmove==4=true==m_canmovecount=="+G);u=1;G>A&&(G=A),w<G&&(G=w),console.log("\u5230\u7ad6\u5217checkmove==4=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+w),console.log("\u5230\u7ad6\u5217checkmove==4=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+G),console.log("\u5230\u7ad6\u5217checkmove==4=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),G>1?(this.moveUp(t,4,G),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,4,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,4,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var M=this.GetWantMoveCount(),V=this.GetCanMoveCount();if(V>0&&M>V){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=M,this.msg.getChildByName("my").getComponent(cc.Label).string=V;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di5.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&5!=t){var O=0,R=0;0==this.di5List.length?(O=4,R=1):(O=this.getVerticalIndex(this.di5List[this.di5List.length-1])-1,R=this.getRowIndex(this.di5List[this.di5List.length-1])+1);c=a.OnLButtonDown(s,n,O,R);if(console.log("\u5230\u7ad6\u5217"+O+"======"+R+"==============\u7ad6\u5217========5\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,5,c),this.onVerticalCardTouch(),!0;if(X=this.CheckMoveListToEmpty()){var H=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var F=this.GetCanMoveCount(),S=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==5=true==nn=="+S),console.log("\u5230\u7ad6\u5217checkmove==5=true==m_canmovecount=="+F);u=1;F>S&&(F=S),H<F&&(F=H),console.log("\u5230\u7ad6\u5217checkmove==5=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+H),console.log("\u5230\u7ad6\u5217checkmove==5=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+F),console.log("\u5230\u7ad6\u5217checkmove==5=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),F>1?(this.moveUp(t,5,F),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,5,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,5,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var z=this.GetWantMoveCount(),W=this.GetCanMoveCount();if(W>0&&z>W){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=z,this.msg.getChildByName("my").getComponent(cc.Label).string=W;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di6.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&6!=t){var U=0,q=0;0==this.di6List.length?(U=5,q=1):(U=this.getVerticalIndex(this.di6List[this.di6List.length-1])-1,q=this.getRowIndex(this.di6List[this.di6List.length-1])+1);c=a.OnLButtonDown(s,n,U,q);if(console.log("\u5230\u7ad6\u5217"+U+"======"+q+"==================\u7ad6\u5217=====6\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,6,c),this.onVerticalCardTouch(),!0;var X=this.CheckMoveListToEmpty();if(console.log("\u5230\u7ad6\u5217checkmove=6======"+X),X){var Y=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var K=this.GetCanMoveCount(),j=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==6=true==nn=="+j),console.log("\u5230\u7ad6\u5217checkmove==6=true==m_canmovecount=="+K);u=1;K>j&&(K=j),Y<K&&(K=Y),console.log("\u5230\u7ad6\u5217checkmove==6=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+Y),console.log("\u5230\u7ad6\u5217checkmove==6=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+K),console.log("\u5230\u7ad6\u5217checkmove==6=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),K>1?(this.moveUp(t,6,K),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,6,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,6,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var J=this.GetWantMoveCount(),Z=this.GetCanMoveCount();if(Z>0&&J>Z){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=J,this.msg.getChildByName("my").getComponent(cc.Label).string=Z;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di7.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&7!=t){var Q=0,$=0;0==this.di7List.length?(Q=6,$=1):(Q=this.getVerticalIndex(this.di7List[this.di7List.length-1])-1,$=this.getRowIndex(this.di7List[this.di7List.length-1])+1);c=a.OnLButtonDown(s,n,Q,$);if(console.log("\u5230\u7ad6\u5217"+Q+"======"+$+"===================\u7ad6\u5217===7\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,7,c),this.onVerticalCardTouch(),!0;X=this.CheckMoveListToEmpty();if(console.log("\u5230\u7ad6\u5217checkmove=7======"+X),X){var tt=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var it=this.GetCanMoveCount(),et=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==7=true==nn=="+et),console.log("\u5230\u7ad6\u5217checkmove==7=true==m_canmovecount=="+it);u=1;it>et&&(it=et),tt<it&&(it=tt),console.log("\u5230\u7ad6\u5217checkmove==7=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+tt),console.log("\u5230\u7ad6\u5217checkmove==7=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+it),console.log("\u5230\u7ad6\u5217checkmove==7=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),it>1?(this.moveUp(t,7,it),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,7,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,7,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var st=this.GetWantMoveCount(),nt=this.GetCanMoveCount();if(nt>0&&st>nt){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=st,this.msg.getChildByName("my").getComponent(cc.Label).string=nt;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}if(this.di8.children[0].getBoundingBoxToWorld().contains(e.getLocation())&&8!=t){var ot=0,at=0;0==this.di8List.length?(ot=7,at=1):(ot=this.getVerticalIndex(this.di8List[this.di8List.length-1])-1,at=this.getRowIndex(this.di8List[this.di8List.length-1])+1);c=a.OnLButtonDown(s,n,ot,at);if(console.log("\u5230\u7ad6\u5217"+ot+"======"+at+"==============================8\u5230\u7ad6\u5217"+c),c>0)return this.moveUp(t,8,c),this.onVerticalCardTouch(),!0;X=this.CheckMoveListToEmpty();if(console.log("\u5230\u7ad6\u5217checkmove=8======"+X),X){var ht=this.GetWantMoveCount();if(this.GetWantMoveCount()>1){var ct=this.GetCanMoveCount(),rt=a.NoListCanMoveCount();console.log("\u5230\u7ad6\u5217checkmove==8=true==nn=="+rt),console.log("\u5230\u7ad6\u5217checkmove==8=true==m_canmovecount=="+ct);u=1;ct>rt&&(ct=rt),ht<ct&&(ct=ht),console.log("\u5230\u7ad6\u5217checkmove==8=true=\u60f3\u79fb\u52a8\u51e0\u5f20==="+ht),console.log("\u5230\u7ad6\u5217checkmove==8=true=\u53ea\u80fd\u79fb\u52a8\u51e0\u5f20==="+ct),console.log("\u5230\u7ad6\u5217checkmove==8=true=\u5b9e\u9645\u53ef\u64cd\u4f5c\u7684\u724c\u7684\u6570\u91cf==="+u),ct>1?(this.moveUp(t,8,ct),this.DoCheckOverToEmpty(!0)):(this.moveUp(t,8,1),this.DoCheckOverToEmpty(!1))}else this.moveUp(t,8,1),this.DoCheckOverToEmpty(!1);this.onVerticalCardTouch()}else{var dt=this.GetWantMoveCount(),lt=this.GetCanMoveCount();if(lt>0&&dt>lt){this.msg.active=!0,this.msg.zIndex=999,this.msg.getChildByName("ma").getComponent(cc.Label).string=dt,this.msg.getChildByName("my").getComponent(cc.Label).string=lt;p=function(t){this.msg.active=!1};this.scheduleOnce(p,2)}}}console.log("\u539f\u59cb\u4f4d\u7f6e\u6062\u590d\u4e4b\u524d="+t),this.setSrcLoaction(t),this.setNewLoaction(t)}),n(s,"setNewLoaction",function(t){switch(t){case 1:var i=this.di1List.length,e=this.diNoteGroup.children[0].getPosition(),s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(var n=0;n<this.di1List.length;n++){this.di1List[n].setPosition(cc.v2(e.x,e.y-n*s))}break;case 2:i=this.di2List.length;var o=this.diNoteGroup.children[1].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di2List.length;n++){this.di2List[n].setPosition(cc.v2(o.x,o.y-n*s))}break;case 3:i=this.di3List.length;var a=this.diNoteGroup.children[2].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di3List.length;n++){this.di3List[n].setPosition(cc.v2(a.x,a.y-n*s))}break;case 4:i=this.di4List.length;var h=this.diNoteGroup.children[3].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di4List.length;n++){this.di4List[n].setPosition(cc.v2(h.x,h.y-n*s))}break;case 5:i=this.di5List.length;var c=this.diNoteGroup.children[4].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di5List.length;n++){this.di5List[n].setPosition(cc.v2(c.x,c.y-n*s))}break;case 6:i=this.di6List.length;var r=this.diNoteGroup.children[5].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di6List.length;n++){this.di6List[n].setPosition(cc.v2(r.x,r.y-n*s))}break;case 7:i=this.di7List.length;var d=this.diNoteGroup.children[6].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di7List.length;n++){this.di7List[n].setPosition(cc.v2(d.x,d.y-n*s))}break;case 8:i=this.di8List.length;var l=this.diNoteGroup.children[7].getPosition();s=this.cardTopHeight;i>7&&(s=this.cardTopHeight-2*(i-7));for(n=0;n<this.di8List.length;n++){this.di8List[n].setPosition(cc.v2(l.x,l.y-n*s))}}}),n(s,"moveUp",function(t,i,e){switch(console.log("\u79fb\u52a8\u7ed3\u675f="+t),i){case 1:console.log("\u76ee\u76841\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76841\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(var s=this.di1List.length,n=0,o=this.diNoteGroup.children[0].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){var c=this.tempList[a];if(console.log("\u76ee\u76841\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8diNoteGroupSelf="+c.name),c.zIndex=s,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(1,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 2:console.log("\u76ee\u76842\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76842\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di2List.length,n=0,o=this.diNoteGroup.children[1].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(2,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 3:console.log("\u76ee\u76843\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76843\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di3List.length,n=0,o=this.diNoteGroup.children[2].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(3,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 4:console.log("\u76ee\u76844\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76844\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di4List.length,n=0,o=this.diNoteGroup.children[3].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s+h,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(4,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 5:console.log("\u76ee\u76845\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76845\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di5List.length,n=0,o=this.diNoteGroup.children[4].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s+h,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(5,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 6:console.log("\u76ee\u76846\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76846\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di6List.length,n=0,o=this.diNoteGroup.children[5].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s+h,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(6,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 7:console.log("\u76ee\u76847\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76847\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di7List.length,n=0,o=this.diNoteGroup.children[6].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(7,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i);break;case 8:console.log("\u76ee\u76848\u7ad6\u5217,\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+this.tempList.length),console.log("\u76ee\u76848\u7ad6\u5217,\u53ef\u4ee5\u79fb\u52a8\u8fc7\u6765\u7684\u4e34\u65f6\u6570\u91cf="+e);for(s=this.di8List.length,n=0,o=this.diNoteGroup.children[7].getPosition(),a=e-1,h=0;a>=0&&!(++n>this.tempList.length);a--,h++){if((c=this.tempList[a]).zIndex=s,c.setPosition(cc.v2(o.x,o.y-25*(s+h))),this.removeVerticalIndex(this.getVerticalIndex(c),c),this.addVerticalIndex(8,c),n==e){this.step++,this.addBackPaiList(t,i,n,1,this.step,c.name),this.isMoveState=!0;break}}this.setSrcLoaction(t),this.setNewLoaction(t),this.setNewLoaction(i)}}),n(s,"setSrcLoaction",function(t){switch(t){case 1:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52171==="+this.di1List.length);for(var i=0;i<this.di1List.length;i++){var e=this.di1List[i],s=this.diNoteGroup.children[0].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 2:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52172==="+this.di2List.length);for(i=0;i<this.di2List.length;i++){e=this.di2List[i],s=this.diNoteGroup.children[1].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 3:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52173==="+this.di3List.length);for(i=0;i<this.di3List.length;i++){e=this.di3List[i],s=this.diNoteGroup.children[2].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 4:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52174==="+this.di4List.length);for(i=0;i<this.di4List.length;i++){e=this.di4List[i],s=this.diNoteGroup.children[3].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 5:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52175==="+this.di5List.length);for(i=0;i<this.di5List.length;i++){e=this.di5List[i],s=this.diNoteGroup.children[4].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 6:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52176==="+this.di6List.length);for(i=0;i<this.di6List.length;i++){e=this.di6List[i],s=this.diNoteGroup.children[5].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 7:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52177==="+this.di7List.length);for(i=0;i<this.di7List.length;i++){e=this.di7List[i],s=this.diNoteGroup.children[6].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}break;case 8:console.log("\u6062\u590d\u539f\u4f4d\u7f6e\u7ad6\u52178==="+this.di8List.length);for(i=0;i<this.di8List.length;i++){e=this.di8List[i],s=this.diNoteGroup.children[7].getPosition();e.zIndex=i,e.setPosition(cc.v2(s.x,s.y-25*i))}}}),n(s,"movePai",function(t,i,e){switch(this.tempList=[],t){case 1:var s=this.getNzhang(t);if(this.di1List.length>0){for(var n=0,o=this.di1List.length-1;o>=0&&(n++,this.tempList.push(this.di1List[o]),this.di1List[o].zIndex=255-n,this.di1List[o].x+=i,this.di1List[o].y+=e,n!=s);o--);return this.tempList}break;case 2:s=this.getNzhang(t);if(this.di2List.length>0){for(n=0,o=this.di2List.length-1;o>=0&&(n++,this.tempList.push(this.di2List[o]),this.di2List[o].zIndex=255-n,this.di2List[o].x+=i,this.di2List[o].y+=e,n!=s);o--);return this.tempList}break;case 3:s=this.getNzhang(t);if(this.di3List.length>0){for(n=0,o=this.di3List.length-1;o>=0&&(n++,this.tempList.push(this.di3List[o]),this.di3List[o].zIndex=255-n,this.di3List[o].x+=i,this.di3List[o].y+=e,n!=s);o--);return this.tempList}break;case 4:s=this.getNzhang(t);if(this.di4List.length>0){for(n=0,o=this.di4List.length-1;o>=0&&(n++,this.tempList.push(this.di4List[o]),this.di4List[o].zIndex=255-n,this.di4List[o].x+=i,this.di4List[o].y+=e,n!=s);o--);return this.tempList}break;case 5:s=this.getNzhang(t);if(this.di5List.length>0){for(n=0,o=this.di5List.length-1;o>=0&&(n++,this.tempList.push(this.di5List[o]),this.di5List[o].zIndex=255-n,this.di5List[o].x+=i,this.di5List[o].y+=e,n!=s);o--);return this.tempList}break;case 6:s=this.getNzhang(t);if(this.di6List.length>0){for(n=0,o=this.di6List.length-1;o>=0&&(n++,this.tempList.push(this.di6List[o]),this.di6List[o].zIndex=255-n,this.di6List[o].x+=i,this.di6List[o].y+=e,n!=s);o--);return this.tempList}break;case 7:s=this.getNzhang(t);if(this.di7List.length>0){for(n=0,o=this.di7List.length-1;o>=0&&(n++,this.tempList.push(this.di7List[o]),this.di7List[o].zIndex=255-n,this.di7List[o].x+=i,this.di7List[o].y+=e,n!=s);o--);return this.tempList}break;case 8:s=this.getNzhang(t);if(this.di8List.length>0){for(n=0,o=this.di8List.length-1;o>=0&&(n++,this.tempList.push(this.di8List[o]),this.di8List[o].zIndex=255-n,this.di8List[o].x+=i,this.di8List[o].y+=e,n!=s);o--);return this.tempList}}}),n(s,"getNzhang",function(t){switch(t){case 1:return this.vGroup_1;case 2:return this.vGroup_2;case 3:return this.vGroup_3;case 4:return this.vGroup_4;case 5:return this.vGroup_5;case 6:return this.vGroup_6;case 7:return this.vGroup_7;case 8:return this.vGroup_8}}),n(s,"isCanMove",function(t){this.getVerticalIndex(t)}),n(s,"inNodeScopeToTemp",function(t,i,e,s,n,o,h,c,r,d,l,u){console.log("inNodeScopeToTemp--------\u5230\u4e34\u65f6\u4f4d\u7f6e========="+e);var m=this.getVerticalIndex(e)-1,g=this.getRowIndex(e)+1;if(s.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217lin1"),0==this.lin1.childrenCount){var p=a.OnLButtonDown(m,g,0,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217lin1\u79fb\u52a8\u7ed3\u679c="+p),p>0){var v=cc.instantiate(this.paiPrefab);return v.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),v.setPosition(cc.v2(0,0)),v.name=e.name,s.addChild(v),this.onTempTouch(s),this.diNoteGroup.removeChild(e),this.step++,this.linX=this.getVerticalIndex(e),this.addBackPaiList(this.linX,1,1,2,this.step,e.name),this.isMoveState=!0,this.removeVerticalIndex(this.getVerticalIndex(e),e),e.destroy(),this.onVerticalCardTouch(),!0}}else e.children[0].x=t,e.children[0].y=i;if(n.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin2"),0==this.lin2.childrenCount){p=a.OnLButtonDown(m,g,1,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin2\u79fb\u52a8\u7ed3\u679c="+p),p>0){var C=cc.instantiate(this.paiPrefab);return C.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),C.setPosition(cc.v2(0,0)),C.name=e.name,n.addChild(C),this.onTempTouch(n),this.diNoteGroup.removeChild(e),this.step++,this.linX=this.getVerticalIndex(e),this.addBackPaiList(this.linX,2,1,2,this.step,e.name),this.isMoveState=!0,this.removeVerticalIndex(this.getVerticalIndex(e),e),e.destroy(),this.onVerticalCardTouch(),!0}}else e.children[0].x=t,e.children[0].y=i;if(o.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin3"),0==this.lin3.childrenCount){p=a.OnLButtonDown(m,g,2,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin3\u79fb\u52a8\u7ed3\u679c="+p),p>0){var L=cc.instantiate(this.paiPrefab);return L.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),L.setPosition(cc.v2(0,0)),L.name=e.name,o.addChild(L),this.onTempTouch(o),this.diNoteGroup.removeChild(e),this.step++,this.linX=this.getVerticalIndex(e),this.addBackPaiList(this.linX,3,1,2,this.step,e.name),this.isMoveState=!0,this.removeVerticalIndex(this.getVerticalIndex(e),e),e.destroy(),this.onVerticalCardTouch(),!0}}else e.children[0].x=t,e.children[0].y=i;if(h.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld()))if(console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin4"),0==this.lin4.childrenCount){p=a.OnLButtonDown(m,g,3,0);if(console.log("\u4e34\u65f6\u4f4d\u7f6e \u8981\u79fb\u52a8\u7684\u884c\u5217 lin4\u79fb\u52a8\u7ed3\u679c="+p),p>0){var f=cc.instantiate(this.paiPrefab);return f.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),f.setPosition(cc.v2(0,0)),f.name=e.name,h.addChild(f),this.onTempTouch(h),this.diNoteGroup.removeChild(e),this.step++,this.linX=this.getVerticalIndex(e),this.addBackPaiList(this.linX,4,1,2,this.step,e.name),this.isMoveState=!0,this.removeVerticalIndex(this.getVerticalIndex(e),e),e.destroy(),this.onVerticalCardTouch(),!0}}else e.children[0].x=t,e.children[0].y=i;if(c.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui4");p=a.OnLButtonDown(m,g,4,0);if(console.log("\u79fb\u52a8\u7ed3\u679c="+p),p>0){var N=cc.instantiate(this.paiPrefab);return N.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),N.name=e.name,N.setPosition(cc.v2(0,0)),this.step++,this.addBackPaiList(this.getVerticalIndex(e),5,1,2,this.step,e.name),this.isMoveState=!0,this.hui4.addChild(N),this.removeVerticalIndex(this.getVerticalIndex(e),e),this.deleteAllCard(e),this.onVerticalCardTouch(),!0}}if(r.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui3");p=a.OnLButtonDown(m,g,5,0);if(console.log("\u79fb\u52a8\u7ed3\u679c="+p),p>0){var T=cc.instantiate(this.paiPrefab);return T.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),T.name=e.name,T.setPosition(cc.v2(0,0)),this.step++,this.addBackPaiList(this.getVerticalIndex(e),6,1,2,this.step,e.name),this.isMoveState=!0,this.hui3.addChild(T),this.removeVerticalIndex(this.getVerticalIndex(e),e),this.deleteAllCard(e),this.onVerticalCardTouch(),!0}}if(d.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui2");p=a.OnLButtonDown(m,g,6,0);if(console.log("\u79fb\u52a8\u7ed3\u679c="+p),p>0){var _=cc.instantiate(this.paiPrefab);return _.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),_.name=e.name,_.setPosition(cc.v2(0,0)),this.step++,this.addBackPaiList(this.getVerticalIndex(e),7,1,2,this.step,e.name),this.isMoveState=!0,this.hui2.addChild(_),this.removeVerticalIndex(this.getVerticalIndex(e),e),this.deleteAllCard(e),this.onVerticalCardTouch(),!0}}if(l.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())){console.log("\u7ad6\u5217\u4f4d\u7f6e=================\u4e34\u65f6\u4f4d\u7f6e(\u56de\u6536) \u8981\u79fb\u52a8\u7684\u884c\u5217 hui1");p=a.OnLButtonDown(m,g,7,0);if(console.log("\u79fb\u52a8\u7ed3\u679c="+p),p>0){var b=cc.instantiate(this.paiPrefab);return b.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),b.name=e.name,b.setPosition(cc.v2(0,0)),this.step++,this.addBackPaiList(this.getVerticalIndex(e),8,1,2,this.step,e.name),this.isMoveState=!0,this.hui1.addChild(b),this.removeVerticalIndex(this.getVerticalIndex(e),e),this.deleteAllCard(e),this.onVerticalCardTouch(),!0}}return e.children[0].x=t,e.children[0].y=i,!1}),n(s,"inLastTouch",function(){0==this.di1List.length?this.di1:this.di1List[this.di1List.length-1],0==this.di2List.length?this.di2:this.di2List[this.di2List.length-1],0==this.di3List.length?this.di3:this.di3List[this.di3List.length-1],0==this.di4List.length?this.di4:this.di4List[this.di4List.length-1],0==this.di5List.length?this.di5:this.di5List[this.di5List.length-1],0==this.di6List.length?this.di6:this.di6List[this.di6List.length-1],0==this.di7List.length?this.di7:this.di7List[this.di7List.length-1],0==this.di8List.length?this.di8:this.di8List[this.di8List.length-1]}),n(s,"removeVerticalIndex",function(t,i){switch(console.log("removeVerticalIndex\u4ece\u7ad6\u6392\u4e2d\u5220\u9664\u5143\u7d20="+t+"nodeValue="+i.name),t){case 1:this.di1List.remove(i);break;case 2:this.di2List.remove(i);break;case 3:this.di3List.remove(i);break;case 4:this.di4List.remove(i);break;case 5:this.di5List.remove(i);break;case 6:this.di6List.remove(i);break;case 7:this.di7List.remove(i);break;case 8:this.di8List.remove(i)}}),n(s,"addVerticalIndex",function(t,i){switch(console.log("addVerticalIndex\u4ece\u7ad6\u6392\u4e2d\u6dfb\u52a0\u5143\u7d20="+t+"nodeValue="+i.name),t){case 1:this.di1List.push(i);break;case 2:this.di2List.push(i);break;case 3:this.di3List.push(i);break;case 4:this.di4List.push(i);break;case 5:this.di5List.push(i);break;case 6:this.di6List.push(i);break;case 7:this.di7List.push(i);break;case 8:this.di8List.push(i)}}),n(s,"getVerticalIndex",function(t){for(var i=0;i<this.di1List.length;i++){if(this.di1List[i].name==t.name)return 1}for(var e=0;e<this.di2List.length;e++){if(this.di2List[e].name==t.name)return 2}for(var s=0;s<this.di3List.length;s++){if(this.di3List[s].name==t.name)return 3}for(var n=0;n<this.di4List.length;n++){if(this.di4List[n].name==t.name)return 4}for(var o=0;o<this.di5List.length;o++){if(this.di5List[o].name==t.name)return 5}for(var a=0;a<this.di6List.length;a++){if(this.di6List[a].name==t.name)return 6}for(var h=0;h<this.di7List.length;h++){if(this.di7List[h].name==t.name)return 7}for(var c=0;c<this.di8List.length;c++){if(this.di8List[c].name==t.name)return 8}return 0}),n(s,"getRowIndex",function(t){for(var i=0;i<this.di1List.length;i++){if(this.di1List[i].name==t.name)return i}for(var e=0;e<this.di2List.length;e++){if(this.di2List[e].name==t.name)return e}for(var s=0;s<this.di3List.length;s++){if(this.di3List[s].name==t.name)return s}for(var n=0;n<this.di4List.length;n++){if(this.di4List[n].name==t.name)return n}for(var o=0;o<this.di5List.length;o++){if(this.di5List[o].name==t.name)return o}for(var a=0;a<this.di6List.length;a++){if(this.di6List[a].name==t.name)return a}for(var h=0;h<this.di7List.length;h++){if(this.di7List[h].name==t.name)return h}for(var c=0;c<this.di8List.length;c++){if(this.di8List[c].name==t.name)return c}return-1}),n(s,"inNoteTempToVertical",function(t,i,e,s){0==this.di1List.length?this.di1:this.di1List[this.di1List.length-1],0==this.di2List.length?this.di2:this.di2List[this.di2List.length-1],0==this.di3List.length?this.di3:this.di3List[this.di3List.length-1],0==this.di4List.length?this.di4:this.di4List[this.di4List.length-1],0==this.di5List.length?this.di5:this.di5List[this.di5List.length-1],0==this.di6List.length?this.di6:this.di6List[this.di6List.length-1],0==this.di7List.length?this.di7:this.di7List[this.di7List.length-1],0==this.di8List.length?this.di8:this.di8List[this.di8List.length-1],console.log("==tempNode.name==="+e.name),console.log("==tempNode.name==="+e.children[0].name);var n=0,o=0;if("lin1"==e.name&&(n=0,o=0),"lin2"==e.name&&(n=1,o=0),"lin3"==e.name&&(n=2,o=0),"lin4"==e.name&&(n=3,o=0),this.hui4.getBoundingBoxToWorld().contains(s.getLocation())){if((D=a.OnLButtonDown(n,o,4,0))>0){var h=cc.instantiate(this.paiPrefab);h.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),h.setPosition(cc.v2(0,0)),h.name=e.name;var c=this.searchTempListNode(e.name);return this.step++,this.addBackPaiList(c,5,1,3,this.step,e.name),e.children[0].destroy(),this.hui4.addChild(h),this.onVerticalCardTouch(),!0}return console.log("=\u5224\u65ad\u6765\u81ea\u4e8e\u54ea\u4e2a\u4e34\u65f6\u4f4d\u7f6e ===="+t+"=="+i),e.children[0].x=0,e.children[0].y=0,!0}if(this.hui3.getBoundingBoxToWorld().contains(s.getLocation())){if((D=a.OnLButtonDown(n,o,5,0))>0){var r=cc.instantiate(this.paiPrefab);r.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),r.setPosition(cc.v2(0,0)),r.name=e.name;c=this.searchTempListNode(e.name);return this.step++,this.addBackPaiList(c,6,1,3,this.step,e.name),e.children[0].destroy(),this.hui3.addChild(r),this.onVerticalCardTouch(),!0}return e.children[0].x=0,e.children[0].y=0,!0}if(this.hui2.getBoundingBoxToWorld().contains(s.getLocation())){if((D=a.OnLButtonDown(n,o,6,0))>0){var d=cc.instantiate(this.paiPrefab);d.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),d.setPosition(cc.v2(0,0)),d.name=e.name;c=this.searchTempListNode(e.name);return this.step++,this.addBackPaiList(c,7,1,3,this.step,e.name),e.children[0].destroy(),this.hui2.addChild(d),this.onVerticalCardTouch(),!0}return e.children[0].x=0,e.children[0].y=0,!0}if(this.hui1.getBoundingBoxToWorld().contains(s.getLocation())){if((D=a.OnLButtonDown(n,o,7,0))>0){var l=cc.instantiate(this.paiPrefab);l.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),l.setPosition(cc.v2(0,0)),l.name=e.name;c=this.searchTempListNode(e.name);return this.step++,this.addBackPaiList(c,8,1,3,this.step,e.name),e.children[0].destroy(),this.hui1.addChild(l),this.onVerticalCardTouch(),!0}return e.children[0].x=0,e.children[0].y=0,!0}if(console.log("==tempNode.name=tempX=="+n+"====tempY="+o),this.di1.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var u=0,m=0;if(0==this.di1List.length?(u=0,m=1):(u=this.getVerticalIndex(this.di1List[this.di1List.length-1])-1,m=this.getRowIndex(this.di1List[this.di1List.length-1])+1),(D=a.OnLButtonDown(n,o,u,m))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var g=this.diNoteGroup.children[0].getPosition(),p=this.di1List.length,v=cc.instantiate(this.paiPrefab),C=new cc.Node("Sprite"+e.children[0].name);C.setPosition(cc.v2(g.x,g.y-25*p)),C.addChild(v),C.name=e.children[0].name,C.zIndex=p,this.diNoteGroup.addChild(C),this.allCard.push(C),v.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,1,1,4,this.step,e.children[0].name),this.addVerticalIndex(1,C),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(1)}}if(this.di2.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var L=0,f=0;if(0==this.di2List.length?(L=1,f=1):(L=this.getVerticalIndex(this.di2List[this.di2List.length-1])-1,f=this.getRowIndex(this.di2List[this.di2List.length-1])+1),(D=a.OnLButtonDown(n,o,L,f))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var N=this.diNoteGroup.children[1].getPosition(),T=(p=this.di2List.length,cc.instantiate(this.paiPrefab)),_=new cc.Node("Sprite"+e.children[0].name);return _.setPosition(cc.v2(N.x,N.y-25*p)),_.addChild(T),_.name=e.children[0].name,_.zIndex=p,this.diNoteGroup.addChild(_),this.allCard.push(_),T.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,2,1,4,this.step,e.children[0].name),this.addVerticalIndex(2,_),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(2),!0}}if(this.di3.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var b=0,x=0;if(0==this.di3List.length?(b=2,x=1):(b=this.getVerticalIndex(this.di3List[this.di3List.length-1])-1,x=this.getRowIndex(this.di3List[this.di3List.length-1])+1),(D=a.OnLButtonDown(n,o,b,x))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var E=this.diNoteGroup.children[2].getPosition(),y=(p=this.di3List.length,cc.instantiate(this.paiPrefab)),I=new cc.Node("Sprite"+e.children[0].name);return I.setPosition(cc.v2(E.x,E.y-25*p)),I.addChild(y),I.name=e.children[0].name,I.zIndex=p,this.diNoteGroup.addChild(I),this.allCard.push(I),y.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,3,1,4,this.step,e.children[0].name),this.addVerticalIndex(3,I),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(3),!0}}if(this.di4.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var P=0,k=0;0==this.di4List.length?(P=3,k=1):(P=this.getVerticalIndex(this.di4List[this.di4List.length-1])-1,k=this.getRowIndex(this.di4List[this.di4List.length-1])+1),console.log("==tempNode.name=move_x=="+P+"====move_y="+k);var D=a.OnLButtonDown(n,o,P,k);if(console.log("=\u79fb\u52a8\u662f\u5426\u6210\u529f ==di4=="+D),D>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var B=this.diNoteGroup.children[3].getPosition(),w=(p=this.di4List.length,cc.instantiate(this.paiPrefab)),G=new cc.Node("Sprite"+e.children[0].name);return G.setPosition(cc.v2(B.x,B.y-25*p)),G.addChild(w),G.name=e.children[0].name,G.zIndex=p,this.diNoteGroup.addChild(G),this.allCard.push(G),w.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,4,1,4,this.step,e.children[0].name),this.addVerticalIndex(4,G),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(4),console.log("\u8303\u56f4\u5185di1ListGroup4"),!0}}if(this.di5.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var A=0,M=0;if(0==this.di5List.length?(A=4,M=1):(A=this.getVerticalIndex(this.di5List[this.di5List.length-1])-1,M=this.getRowIndex(this.di5List[this.di5List.length-1])+1),(D=a.OnLButtonDown(n,o,A,M))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var V=this.diNoteGroup.children[4].getPosition(),O=(p=this.di5List.length,cc.instantiate(this.paiPrefab)),R=new cc.Node("Sprite"+e.children[0].name);return R.setPosition(cc.v2(V.x,V.y-25*p)),R.addChild(O),R.name=e.children[0].name,R.zIndex=p,this.diNoteGroup.addChild(R),this.allCard.push(R),O.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,5,1,4,this.step,e.children[0].name),this.addVerticalIndex(5,R),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(5),!0}}if(this.di6.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var H=0,F=0;if(0==this.di6List.length?(H=5,F=1):(H=this.getVerticalIndex(this.di6List[this.di6List.length-1])-1,F=this.getRowIndex(this.di6List[this.di6List.length-1])+1),(D=a.OnLButtonDown(n,o,H,F))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var S=this.diNoteGroup.children[5].getPosition(),z=(p=this.di6List.length,cc.instantiate(this.paiPrefab)),W=new cc.Node("Sprite"+e.children[0].name);return W.setPosition(cc.v2(S.x,S.y-25*p)),W.addChild(z),W.name=e.children[0].name,W.zIndex=p,this.diNoteGroup.addChild(W),this.allCard.push(W),z.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,6,1,4,this.step,e.children[0].name),this.addVerticalIndex(6,W),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(6),!0}}if(this.di7.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var U=0,q=0;if(0==this.di7List.length?(U=6,q=1):(U=this.getVerticalIndex(this.di7List[this.di7List.length-1])-1,q=this.getRowIndex(this.di7List[this.di7List.length-1])+1),(D=a.OnLButtonDown(n,o,U,q))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var X=this.diNoteGroup.children[6].getPosition(),Y=(p=this.di7List.length,cc.instantiate(this.paiPrefab)),K=new cc.Node("Sprite"+e.children[0].name);return K.setPosition(cc.v2(X.x,X.y-25*p)),K.addChild(Y),K.name=e.children[0].name,K.zIndex=p,this.diNoteGroup.addChild(K),this.allCard.push(K),Y.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,7,1,4,this.step,e.children[0].name),this.addVerticalIndex(7,K),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(7),!0}}if(this.di8.children[0].getBoundingBoxToWorld().contains(s.getLocation())){var j=0,J=0;if(0==this.di8List.length?(j=7,J=1):(j=this.getVerticalIndex(this.di8List[this.di8List.length-1])-1,J=this.getRowIndex(this.di8List[this.di8List.length-1])+1),(D=a.OnLButtonDown(n,o,j,J))>=0){if(0==D){if(!this.CheckMoveListToEmpty())return e.children[0].x=0,e.children[0].y=0,!0;this.GetWantMoveCount()>1||this.DoCheckOverToEmpty(!1)}var Z=this.diNoteGroup.children[7].getPosition(),Q=(p=this.di8List.length,cc.instantiate(this.paiPrefab)),$=new cc.Node("Sprite"+e.children[0].name);return $.setPosition(cc.v2(Z.x,Z.y-25*p)),$.addChild(Q),$.name=e.children[0].name,$.zIndex=p,this.diNoteGroup.addChild($),this.allCard.push($),Q.getComponent("Card").initCard(e.children[0].name.charAt(2),e.children[0].name.substr(3,2)),this.addBackPaiList(n+1,8,1,4,this.step,e.children[0].name),this.addVerticalIndex(8,$),e.children[0].destroy(),this.onVerticalCardTouch(),this.setNewLoaction(8),!0}}return e.children[0].x=0,e.children[0].y=0,!1}),n(s,"onTempTouch",function(t){var i,e,s=this;t.children[0].on(cc.Node.EventType.TOUCH_START,function(n){if(!1===s.ifMove&&0==s.ifTempMove){n.touch.getDelta();i=this.getPosition().x,e=this.getPosition().y,t.setSiblingIndex(999),t.parent.zIndex=1,s.diNoteGroup.zIndex=0,s.isMoveState=!1,t.children[0].setScale(1),s.ifTempMove=!0}},t.children[0]),t.children[0].on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!1===s.ifMove&&1==s.ifTempMove){var i=t.touch.getDelta();this.x+=1.25*i.x,this.y+=1.25*i.y}},t.children[0]),t.children[0].on(cc.Node.EventType.TOUCH_END,function(n){!1===s.ifMove&&1==s.ifTempMove&&(this.opacity=255,t.children[0].setScale(.76),cc.audioEngine.playEffect(s.put),s.inNoteTempToVertical(i,e,t,n),s.autoTo(),s.ifTempMove=!1)},t.children[0]),t.children[0].on(cc.Node.EventType.TOUCH_CANCEL,function(n){!1===s.ifMove&&1==s.ifTempMove&&(this.opacity=255,t.children[0].setScale(.76),cc.audioEngine.playEffect(s.put),s.inNoteTempToVertical(i,e,t,n),s.autoTo(),s.ifTempMove=!1)},t.children[0])}),n(s,"addBackPaiList",function(t,i,e,s,n,a){var h=new o;h.from=t,h.to=i,h.size=e,h.type=s,h.step=n,h.name=a,this.backPaiList.push(h)}),n(s,"autoMoveBack",function(){console.log(" autoMoveBack ==shoupaiNum=="+this.shoupaiNum);var t=this;if(this.shoupaiNum>=8)return this.onVerticalCardTouch(),this.shoupaiNum=4,void this.autoTo();var i=this.shoupaiNum,e=this.GetImgIndex(TPaneData.m_MidTo[i]);if(console.log(" autoMoveBack ==imgIndex=="+e),e>=0){var s=this.bmpAllCards[e];console.log(" autoMoveBack ==imgName=="+s);var n=this.searchNode(s);if(console.log(" autoMoveBack ==searchByStringNode=="+n),0==n)switch(console.log(" autoMoveBack ==\u5982\u679c\u6b64\u724c\u6ca1\u5728\u7ad6\u5217\u4e2d\u627e\u5230=="+n.name),i){case 4:var o=cc.instantiate(this.paiPrefab);if(o.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),o.setPosition(cc.v2(0,0)),o.name=s,0==(c=this.getVerticalIndex(n)))0==(r=this.searchTempListNode(s))?o.destroy():(this.hui4.addChild(o),this.addBackPaiList(r,5,1,3,this.step,s));else this.hui4.addChild(o),this.addBackPaiList(c,5,1,2,this.step,s),this.removeVerticalIndex(c,n),this.deleteAllCard(n);this.shoupaiNum++,this.onVerticalCardTouch(),this.autoMoveBack();break;case 5:var a=cc.instantiate(this.paiPrefab);if(a.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),a.name=s,a.setPosition(cc.v2(0,0)),0==(c=this.getVerticalIndex(n)))0==(r=this.searchTempListNode(s))?a.destroy():(this.hui3.addChild(a),this.addBackPaiList(r,6,1,3,this.step,s));else this.hui3.addChild(a),this.addBackPaiList(c,6,1,2,this.step,s),this.removeVerticalIndex(c,n),this.deleteAllCard(n);this.shoupaiNum++,this.onVerticalCardTouch(),this.autoMoveBack();break;case 6:var h=cc.instantiate(this.paiPrefab);if(h.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),h.name=s,h.setPosition(cc.v2(0,0)),0==(c=this.getVerticalIndex(n)))0==(r=this.searchTempListNode(s))?h.destroy():(this.hui2.addChild(h),this.addBackPaiList(r,7,1,3,this.step,s));else this.hui2.addChild(h),this.addBackPaiList(c,7,1,2,this.step,s),this.removeVerticalIndex(c,n),this.deleteAllCard(n);this.shoupaiNum++,this.onVerticalCardTouch(),this.autoMoveBack();break;case 7:var c,r,d=cc.instantiate(this.paiPrefab);if(d.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),d.name=s,d.setPosition(cc.v2(0,0)),0==(c=this.getVerticalIndex(n)))0==(r=this.searchTempListNode(s))?d.destroy():(this.hui1.addChild(d),this.addBackPaiList(r,8,1,3,this.step,s));else this.hui1.addChild(d),this.addBackPaiList(c,8,1,2,this.step,s),this.removeVerticalIndex(c,n),this.deleteAllCard(n);this.shoupaiNum++,this.onVerticalCardTouch(),this.autoMoveBack()}if(0!=n)switch(console.log(" autoMoveBack ==\u5982\u679c\u6b64\u724c\u5728\u7ad6\u5217\u4e2d\u627e\u5230=="+n.name),i){case 4:for(var l=!1,u=0;u<this.hui4.childrenCount;u++)this.hui4.children[u].name==s&&(l=!0);if(1==l)this.shoupaiNum++,this.autoMoveBack();else{var m=cc.moveTo(.1,cc.v2(54,325)),g=cc.callFunc(function(i,e){var o=cc.instantiate(this.paiPrefab);o.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),o.setPosition(cc.v2(0,0)),o.name=s;var a=this.getVerticalIndex(n);if(0==a){var h=this.searchTempListNode(s);0==h?o.destroy():(this.hui4.addChild(o),this.addBackPaiList(h,5,1,3,this.step,s))}else this.hui4.addChild(o),this.addBackPaiList(a,5,1,2,this.step,s),this.removeVerticalIndex(a,n),this.deleteAllCard(n);cc.audioEngine.playEffect(t.put),e.destroy(),this.shoupaiNum++,t.autoMoveBack(),this.onVerticalCardTouch()},this,n),p=cc.sequence(m,g);n.runAction(p)}this.onVerticalCardTouch();break;case 5:for(var v=!1,C=0;C<this.hui3.childrenCount;C++)this.hui3.children[C].name==s&&(v=!0);if(1==v)this.shoupaiNum++,this.autoMoveBack();else{m=cc.moveTo(.1,cc.v2(64,325)),g=cc.callFunc(function(i,e){var o=cc.instantiate(this.paiPrefab);o.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),o.name=s,o.setPosition(cc.v2(0,0));var a=this.getVerticalIndex(n);if(0==a){var h=this.searchTempListNode(s);0==h||(this.hui3.addChild(o),this.addBackPaiList(h,6,1,3,this.step,s))}else this.hui3.addChild(o),this.addBackPaiList(a,6,1,2,this.step,s),this.removeVerticalIndex(a,n),this.deleteAllCard(n);cc.audioEngine.playEffect(t.put),e.destroy(),this.shoupaiNum++,t.autoMoveBack(),this.onVerticalCardTouch()},this,n),p=cc.sequence(m,g);n.runAction(p)}this.onVerticalCardTouch();break;case 6:for(var L=!1,f=0;f<this.hui2.childrenCount;f++)this.hui2.children[f].name==s&&(L=!0);if(1==L)this.shoupaiNum++,this.autoMoveBack();else{m=cc.moveTo(.1,cc.v2(170,325)),g=cc.callFunc(function(i,e){var o=cc.instantiate(this.paiPrefab);o.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),o.name=s,o.setPosition(cc.v2(0,0));var a=this.getVerticalIndex(n);if(0==a){var h=this.searchTempListNode(s);0==h||(this.hui2.addChild(o),this.addBackPaiList(h,7,1,3,this.step,s))}else this.hui2.addChild(o),this.addBackPaiList(a,7,1,2,this.step,s),this.removeVerticalIndex(a,n),this.deleteAllCard(n);cc.audioEngine.playEffect(t.put),e.destroy(),this.shoupaiNum++,t.autoMoveBack(),this.onVerticalCardTouch()},this,n),p=cc.sequence(m,g);n.runAction(p)}this.onVerticalCardTouch();break;case 7:for(var N=!1,T=0;T<this.hui1.childrenCount;T++)this.hui1.children[T].name==s&&(N=!0);if(1==N)this.shoupaiNum++,this.autoMoveBack();else{m=cc.moveTo(.1,cc.v2(210,325)),g=cc.callFunc(function(i,e){var o=cc.instantiate(this.paiPrefab);o.getComponent("Card").initCard(s.charAt(2),s.substr(3,2)),o.name=s,o.setPosition(cc.v2(0,0));var a=this.getVerticalIndex(n);if(0==a){var h=this.searchTempListNode(s);0==h||(this.hui1.addChild(o),this.addBackPaiList(h,8,1,3,this.step,s))}else this.hui1.addChild(o),this.addBackPaiList(a,8,1,2,this.step,s),this.removeVerticalIndex(a,n),this.deleteAllCard(n);cc.audioEngine.playEffect(t.put),e.destroy(),this.shoupaiNum++,t.autoMoveBack(),this.onVerticalCardTouch()},this,n),p=cc.sequence(m,g);n.runAction(p)}this.onVerticalCardTouch()}}else this.shoupaiNum++,this.autoMoveBack()}),n(s,"autoTo",function(){var t=a.AutoTo();console.log(" autoTo ==\u81ea\u52a8\u5316\u6267\u884c\u7ed3\u679c=="+t),t?this.autoMoveBack():(this.shoupaiNum=4,1==this.IsNoWay()&&(this.noway.zIndex=999,this.noway.active=!0,this.noway.getChildByName("nowaymsg").active=!0,this.noway.getChildByName("nowaynext").active=!0,this.noway.getChildByName("again").active=!0,this.noway.getChildByName("nowaynewgame").active=!1,this.noway.getChildByName("newgame").active=!0,this.noway.getChildByName("gongxi").active=!1,this.noway.getChildByName("niyingle").active=!1),1==this.IsSucceed()&&(console.log(" autoTo ==\u606d\u559c\u4f60=="),this.isBegin=!1,this.noway.zIndex=999,this.noway.active=!0,this.noway.getChildByName("nowaymsg").active=!1,this.noway.getChildByName("nowaynext").active=!1,this.noway.getChildByName("again").active=!0,this.noway.getChildByName("nowaynewgame").active=!1,this.noway.getChildByName("newgame").active=!0,this.noway.getChildByName("gongxi").active=!0,this.noway.getChildByName("niyingle").active=!0))}),n(s,"testDetection",function(){this.testDetectionNode.node.active=!0,this.testDetectionNode.getComponent(cc.RichText).string="<color=#EE0316></color>";for(var t=0,i=0;i<MAX_CARD_COUNT;i++)0!=TPaneData.m_Data[0][i]&&t++;if(this.di1List.length==t)for(var e=!1,s=0;s<this.di1List.length;s++){var n=this.GetImgIndex(TPaneData.m_Data[0][s]);this.bmpAllCards[n]!=this.di1List[s].name&&(console.log("\u7b2c\u4e00\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),e=!0),1==e&&(this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u4e00\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u4e00\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var o=0;o<t;o++){n=this.GetImgIndex(TPaneData.m_Data[0][o]);this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u4e00\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var a=0,h=0;h<MAX_CARD_COUNT;h++)0!=TPaneData.m_Data[1][h]&&a++;if(this.di2List.length==a)for(var c=!1,r=0;r<this.di2List.length;r++){n=this.GetImgIndex(TPaneData.m_Data[1][r]);this.bmpAllCards[n]!=this.di2List[r].name&&(console.log("\u7b2c\u4e8c\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),c=!0),1==c&&(this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u4e8c\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u4e8c\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var d=0;d<a;d++){n=this.GetImgIndex(TPaneData.m_Data[1][d]);this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u4e8c\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var l=0,u=0;u<MAX_CARD_COUNT;u++)0!=TPaneData.m_Data[2][u]&&l++;if(this.di3List.length==l)for(var m=!1,g=0;g<this.di3List.length;g++){n=this.GetImgIndex(TPaneData.m_Data[2][g]);this.bmpAllCards[n]!=this.di3List[g].name&&(console.log("\u7b2c\u4e09\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),m=!0),1==m&&(this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u4e09\u7ad6  <color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u4e09\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var p=0;p<l;p++){n=this.GetImgIndex(TPaneData.m_Data[2][p]);this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u4e09\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var v=0,C=0;C<MAX_CARD_COUNT;C++)0!=TPaneData.m_Data[3][C]&&v++;if(this.di4List.length==v)for(var L=!1,f=0;f<this.di4List.length;f++){n=this.GetImgIndex(TPaneData.m_Data[3][f]);this.bmpAllCards[n]!=this.di4List[f].name&&(console.log("\u7b2c\u56db\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),L=!0),1==L&&(this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u56db\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u56db\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var N=0;N<v;N++){n=this.GetImgIndex(TPaneData.m_Data[3][N]);this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u56db\u7ad6  <color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var T=0,_=0;_<MAX_CARD_COUNT;_++)0!=TPaneData.m_Data[4][_]&&T++;if(this.di5List.length==T)for(var b=!1,x=0;x<this.di5List.length;x++){n=this.GetImgIndex(TPaneData.m_Data[4][x]);this.bmpAllCards[n]!=this.di5List[x].name&&(console.log("\u7b2c\u4e94\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),b=!0),1==b&&(this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u4e94\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u4e94\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var E=0;E<T;E++){n=this.GetImgIndex(TPaneData.m_Data[4][E]);this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u4e94\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var y=0,I=0;I<MAX_CARD_COUNT;I++)0!=TPaneData.m_Data[5][I]&&y++;if(this.di6List.length==y)for(var P=!1,k=0;k<this.di6List.length;k++){n=this.GetImgIndex(TPaneData.m_Data[5][k]);this.bmpAllCards[n]!=this.di6List[k].name&&(console.log("\u7b2c\u516d\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),P=!0),1==P&&(this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u516d\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u516d\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var D=0;D<y;D++){n=this.GetImgIndex(TPaneData.m_Data[5][D]);this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u516d\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var B=0,w=0;w<MAX_CARD_COUNT;w++)0!=TPaneData.m_Data[6][w]&&B++;if(this.di7List.length==B)for(var G=!1,A=0;A<this.di7List.length;A++){n=this.GetImgIndex(TPaneData.m_Data[6][A]);this.bmpAllCards[n]!=this.di7List[A].name&&(console.log("\u7b2c\u4e03\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),G=!0),1==G&&(this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u4e03\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u4e03\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var M=0;M<B;M++){n=this.GetImgIndex(TPaneData.m_Data[6][M]);this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u4e03\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}for(var V=0,O=0;O<MAX_CARD_COUNT;O++)0!=TPaneData.m_Data[7][O]&&V++;if(this.di8List.length==V)for(var R=!1,H=0;H<this.di8List.length;H++){n=this.GetImgIndex(TPaneData.m_Data[7][H]);this.bmpAllCards[n]!=this.di8List[H].name&&(console.log("\u7b2c\u516b\u7ad6 \u6570\u636e\u4e0d\u4e00\u81f4"),R=!0),1==R&&(this.testDetectionNode.getComponent(cc.RichText).string+="\u7b2c\u516b\u7ad6 <color=#EE0316>"+this.bmpAllCards[n]+"</color>")}else{console.log("\u7b2c\u516b\u7ad6 \u6570\u636e\u4e0d\u76f8\u7b49");for(var F=0;F<V;F++){n=this.GetImgIndex(TPaneData.m_Data[7][F]);this.testDetectionNode.getComponent(cc.RichText).string+=" \u7b2c\u516b\u7ad6<color=#EE0316>"+this.bmpAllCards[n]+"</color>"}}}),n(s,"searchNode",function(t){return this.getVerticalIndexByString(t)}),n(s,"searchTempListNode",function(t){return this.lin1.childrenCount>0&&this.lin1.name==t?(this.lin1.children[0].destroy(),1):this.lin2.childrenCount>0&&this.lin2.name==t?(this.lin2.children[0].destroy(),2):this.lin3.childrenCount>0&&this.lin3.name==t?(this.lin3.children[0].destroy(),3):this.lin4.childrenCount>0&&this.lin4.name==t?(this.lin4.children[0].destroy(),4):0}),n(s,"IsSucceed",function(){var t=a.IsSucceed();return 1==t&&this.unschedule(this.callbackjishiqi),t}),n(s,"IsNoWay",function(){var t=a.IsNoWay();return 1==t&&this.unschedule(this.callbackjishiqi),t}),n(s,"DoBack",function(){if(1==this.isBegin){var t=a.DoBack();if(this.shoupaiNum=4,t){if(this.backPaiList.length>0){var i=this.backPaiList[this.backPaiList.length-1];this.lastStep=i.step,this.dobackMove(),console.log("\u4ece\u65b0\u52a0\u5165\u7ad6\u6392\u89e6\u6478\u76d1\u542c=="),this.onVerticalCardTouch()}}else this.step=0,this.backPaiList.length>0&&(this.gobackFinish(),this.onVerticalCardTouch())}}),n(s,"gobackFinish",function(){for(this.step=0,this.dodelete(),this.backPaiList=[],this.getBeginNum(this.gameNume);this.m_DealCount<51;)switch(this.m_DealGroupNum++,this.m_DealGroupNum>8&&(this.m_DealGroupNum=1,this.m_DealGroupRow++),this.m_DealGroupNum){case 1:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==0)){var t=this.diNoteGroup.children[0].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di1List.push(this.allCard[51-this.m_DealCount])}break;case 2:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==1)){t=this.diNoteGroup.children[1].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di2List.push(this.allCard[51-this.m_DealCount])}break;case 3:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==2)){t=this.diNoteGroup.children[2].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di3List.push(this.allCard[51-this.m_DealCount])}break;case 4:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==3)){t=this.diNoteGroup.children[3].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di4List.push(this.allCard[51-this.m_DealCount])}break;case 5:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==4)){t=this.diNoteGroup.children[4].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di5List.push(this.allCard[51-this.m_DealCount])}break;case 6:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==5)){t=this.diNoteGroup.children[5].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di6List.push(this.allCard[51-this.m_DealCount])}break;case 7:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==6)){t=this.diNoteGroup.children[6].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di7List.push(this.allCard[51-this.m_DealCount])}break;case 8:if(this.m_DealCount<52&&(this.m_DealCount++,this.m_DealCount%8==7)){t=this.diNoteGroup.children[7].getPosition();this.allCard[51-this.m_DealCount].setPosition(cc.v2(t.x,t.y-this.m_DealGroupRow*this.cardTopHeight)),this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.di8List.push(this.allCard[51-this.m_DealCount])}}}),n(s,"GetWantMoveCount",function(){return a.m_wantmovecount}),n(s,"GetCanMoveCount",function(){return a.m_canmovecount}),n(s,"CheckMoveListToEmpty",function(){return a.CheckMoveListToEmpty()}),n(s,"StepAdd",function(){this.step++}),n(s,"StepReduction",function(){this.step--}),n(s,"dobackMove",function(){if(this.backPaiList.length>0){var t=this.backPaiList[this.backPaiList.length-1];console.log(" cardback ==cardback==cardback.from="+t.from+"cardback.to="+t.to+"cardback.size="+t.size+"cardback.type="+t.type+"cardback.step="+t.step+"cardback.name="+t.name);var i=this;if(t.step==this.lastStep){var e=new Array;if(e=[],1==t.type){switch(console.log("dobackMove======\u539f\u6765\u7ad6\u5217\u5230\u7ad6\u5217\uff0c\u64a4\u9500================"+t.to),t.to){case 1:for(var s=0,n=this.di1List.length-1;n>=0;n--){s++;var o=this.di1List[n];if(e.push(o),this.di1List.remove(o),s==t.size)break}break;case 2:s=0;for(var a=this.di2List.length-1;a>=0;a--){s++;o=this.di2List[a];if(e.push(o),this.di2List.remove(o),s==t.size)break}break;case 3:s=0;for(var h=this.di3List.length-1;h>=0;h--){s++;o=this.di3List[h];if(e.push(o),this.di3List.remove(o),s==t.size)break}break;case 4:s=0;for(var c=this.di4List.length-1;c>=0;c--){s++;o=this.di4List[c];if(e.push(o),this.di4List.remove(o),s==t.size)break}break;case 5:s=0;for(var r=this.di5List.length-1;r>=0;r--){s++;o=this.di5List[r];if(e.push(o),this.di5List.remove(o),s==t.size)break}break;case 6:s=0;for(var d=this.di6List.length-1;d>=0;d--){s++;o=this.di6List[d];if(e.push(o),this.di6List.remove(o),s==t.size)break}break;case 7:s=0;for(var l=this.di7List.length-1;l>=0;l--){s++;o=this.di7List[l];if(e.push(o),this.di7List.remove(o),s==t.size)break}break;case 8:s=0;for(var u=this.di8List.length-1;u>=0;u--){s++;o=this.di8List[u];if(e.push(o),this.di8List.remove(o),s==t.size)break}}switch(t.from){case 1:var m=this.diNoteGroup.children[0].getPosition(),g=this.di1List.length;if(e.length>0)for(var p=e.length-1,v=0;p>=0;p--,v++){(o=e[p]).zIndex=g-1+v;var C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(g+v))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(1)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di1List.push(o)}break;case 2:m=this.diNoteGroup.children[1].getPosition();var N=this.di2List.length;if(e.length>0)for(var T=e.length-1,_=0;T>=0;T--,_++){(o=e[T]).zIndex=N-1+_;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(N+_))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(2)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di2List.push(o)}break;case 3:m=this.diNoteGroup.children[2].getPosition();var b=this.di3List.length;if(e.length>0)for(var x=e.length-1,E=0;x>=0;x--,E++){(o=e[x]).zIndex=b-1+E;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(b+E))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(3)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di3List.push(o)}break;case 4:m=this.diNoteGroup.children[3].getPosition();var y=this.di4List.length;if(e.length>0)for(var I=e.length-1,P=0;I>=0;I--,P++){(o=e[I]).zIndex=y-1+P;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(y+P))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(4)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di4List.push(o)}break;case 5:m=this.diNoteGroup.children[4].getPosition();var k=this.di5List.length;if(e.length>0)for(var D=e.length-1,B=0;D>=0;D--,B++){(o=e[D]).zIndex=k-1+B;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(k+B))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(5)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di5List.push(o)}break;case 6:m=this.diNoteGroup.children[5].getPosition();var w=this.di6List.length;if(e.length>0)for(var G=e.length-1,A=0;G>=0;G--,A++){(o=e[G]).zIndex=w-1+A;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(w+A))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(6)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di6List.push(o)}break;case 7:m=this.diNoteGroup.children[6].getPosition();var M=this.di7List.length;if(e.length>0)for(var V=e.length-1,O=0;V>=0;V--,O++){(o=e[V]).zIndex=M-1+O;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(M+O))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(7)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di7List.push(o)}break;case 8:m=this.diNoteGroup.children[7].getPosition();var R=this.di8List.length;if(e.length>0)for(var H=e.length-1,F=0;H>=0;H--,F++){(o=e[H]).zIndex=R-1+F;C=cc.moveTo(.1,cc.v2(m.x,m.y-25*(R+F))),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),this.backPaiList.remove(t),this.dobackMove(),this.onVerticalCardTouch(),this.setNewLoaction(8)},this,Nt),f=cc.sequence(C,L);o.runAction(f),this.di8List.push(o)}}this.backPaiList.remove(t)}if(2==t.type){switch(console.log("dobackMove======\u539f\u6765\u662f\u7ad6\u5217\u5230\u4e34\u65f6,\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500====================="+t.to),t.to){case 1:var S=this.lin1.children[0];e.push(S);e[0].parent;var z=cc.instantiate(this.paiPrefab);z.setPosition(cc.v2(0,0));var W=new cc.Node("Sprite"+t.name);W.addChild(z),W.name=t.name,z.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),this.lin1.children[0].destroy(),this.lin1.removeAllChildren(),this.lin1.addChild(W),this.lin1.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=this.lin1.children[0];break;case 2:var U=this.lin2.children[0];e.push(U);e[0].parent;var q=cc.instantiate(this.paiPrefab);q.setPosition(cc.v2(0,0));var X=new cc.Node("Sprite"+t.name);X.addChild(q),X.name=t.name,q.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),this.lin2.children[0].destroy(),this.lin2.removeAllChildren(),this.lin2.addChild(X),this.lin2.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=this.lin2.children[0];break;case 3:var Y=this.lin3.children[0];e.push(Y);e[0].parent;var K=cc.instantiate(this.paiPrefab);K.setPosition(cc.v2(0,0));var j=new cc.Node("Sprite"+t.name);j.addChild(K),j.name=t.name,K.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),this.lin3.children[0].destroy(),this.lin3.removeAllChildren(),this.lin3.addChild(j),this.lin3.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=this.lin3.children[0];break;case 4:var J=this.lin4.children[0];e.push(J);e[0].parent;var Z=cc.instantiate(this.paiPrefab);Z.setPosition(cc.v2(0,0));var Q=new cc.Node("Sprite"+t.name);Q.addChild(Z),Q.name=t.name,Z.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),this.lin4.children[0].destroy(),this.lin4.removeAllChildren(),this.lin4.addChild(Q),this.lin4.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=this.lin4.children[0];break;case 5:var $=this.hui4.getChildByName(t.name);e.push($);e[0];var tt=cc.instantiate(this.paiPrefab);tt.setPosition(cc.v2(0,0));var it=new cc.Node("Sprite"+t.name);it.addChild(tt),it.name=t.name,tt.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),$.destroy(),this.hui4.removeChild($),this.hui4.addChild(it),this.hui4.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=it;break;case 6:var et=this.hui3.getChildByName(t.name);e.push(et);e[0];var st=cc.instantiate(this.paiPrefab);st.setPosition(cc.v2(0,0));var nt=new cc.Node("Sprite"+t.name);nt.addChild(st),nt.name=t.name,st.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),et.destroy(),this.hui3.removeChild(et),this.hui3.addChild(nt),this.hui3.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=nt;break;case 7:var ot=this.hui2.getChildByName(t.name);e.push(ot);e[0];var at=cc.instantiate(this.paiPrefab);at.setPosition(cc.v2(0,0));var ht=new cc.Node("Sprite"+t.name);ht.addChild(at),ht.name=t.name,at.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),ot.destroy(),this.hui2.removeChild(ot),this.hui2.addChild(ht),this.hui2.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=ht;break;case 8:var ct=this.hui1.getChildByName(t.name);e.push(ct);e[0];var rt=cc.instantiate(this.paiPrefab);rt.setPosition(cc.v2(0,0));var dt=new cc.Node("Sprite"+t.name);dt.addChild(rt),dt.name=t.name,rt.getComponent("Card").initCard(t.name.charAt(2),t.name.substr(3,2)),ct.destroy(),this.hui1.removeChild(ct),this.hui1.addChild(dt),this.hui1.parent.zIndex=1,this.diNoteGroup.zIndex=0,Nt=dt}switch(Tt=45+115*(t.from-t.to),t.from){case 1:var lt=this.di1List.length-1;m=this.diNoteGroup.getChildByName("di1").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[0].getPosition(),o=this.di1List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(1,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(1),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(lt+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 2:var ut=this.di2List.length-1;this.diNoteGroup.getChildByName("di2").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[1].getPosition(),o=this.di2List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(2,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(2),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(ut+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 3:var mt=this.di3List.length-1;this.diNoteGroup.getChildByName("di3").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[2].getPosition(),o=this.di3List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(3,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(3),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(mt+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 4:var gt=this.di4List.length-1;this.diNoteGroup.getChildByName("di4").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[3].getPosition(),o=this.di4List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(4,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(4),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(gt+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 5:var pt=this.di5List.length-1;this.diNoteGroup.getChildByName("di5").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[4].getPosition(),o=this.di5List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(5,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(5),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(pt+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 6:var vt=this.di6List.length-1;this.diNoteGroup.getChildByName("di6").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[5].getPosition(),o=this.di6List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(6,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(6),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(vt+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 7:var Ct=this.di7List.length-1;this.diNoteGroup.getChildByName("di7").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[6].getPosition(),o=this.di7List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(7,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(7),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(Ct+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f);break;case 8:var Lt=this.di8List.length-1;this.diNoteGroup.getChildByName("di8").getPosition(),L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=this.diNoteGroup.children[7].getPosition(),o=this.di8List.length,a=cc.instantiate(this.paiPrefab),h=new cc.Node("Sprite"+s.name);h.setPosition(cc.v2(n.x,n.y-25*o)),h.addChild(a),h.name=s.name,h.zIndex=o,this.diNoteGroup.addChild(h),this.allCard.push(h),a.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),this.addVerticalIndex(8,h),s.destroy(),this.backPaiList.remove(t),this.onVerticalCardTouch(),this.setNewLoaction(8),this.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(Tt,-166-25*(Lt+1)));Nt.scale=.95;f=cc.sequence(C,L);Nt.runAction(f)}this.backPaiList.remove(t)}if(3==t.type){switch(console.log("dobackMove======\u539f\u6765\u662f\u4e34\u65f6\u4f4d\u7f6e\u5230\u6536\u724c\u5217\u8868\uff0c\u64a4\u9500====================="+t.to),t.to){case 5:this.hui4.childrenCount>0&&(Nt=this.hui4.children[this.hui4.childrenCount-1]);break;case 6:this.hui3.childrenCount>0&&(Nt=this.hui3.children[this.hui3.childrenCount-1]);break;case 7:this.hui2.childrenCount>0&&(Nt=this.hui2.children[this.hui2.childrenCount-1]);break;case 8:this.hui1.childrenCount>0&&(Nt=this.hui1.children[this.hui1.childrenCount-1])}var ft=110*(t.from-t.to);switch(t.from){case 1:L=cc.callFunc(function(t,e){cc.audioEngine.playEffect(i.put);var s=cc.instantiate(this.paiPrefab);s.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),s.setPosition(cc.v2(0,0)),i.lin1.name=e.name,i.lin1.addChild(s),i.onTempTouch(i.lin1),e.destroy(),i.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(ft,0)),f=cc.sequence(C,L);Nt.runAction(f);break;case 2:L=cc.callFunc(function(t,e){cc.audioEngine.playEffect(i.put);var s=cc.instantiate(this.paiPrefab);s.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),s.setPosition(cc.v2(0,0)),i.lin2.name=e.name,i.lin2.addChild(s),i.onTempTouch(i.lin2),e.destroy(),i.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(ft,0)),f=cc.sequence(C,L);Nt.runAction(f);break;case 3:L=cc.callFunc(function(t,e){cc.audioEngine.playEffect(i.put);var s=cc.instantiate(this.paiPrefab);s.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),s.setPosition(cc.v2(0,0)),i.lin3.name=e.name,i.lin3.addChild(s),i.onTempTouch(i.lin3),e.destroy(),i.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(ft,0)),f=cc.sequence(C,L);Nt.runAction(f);break;case 4:L=cc.callFunc(function(t,e){cc.audioEngine.playEffect(i.put);var s=cc.instantiate(this.paiPrefab);s.getComponent("Card").initCard(e.name.charAt(2),e.name.substr(3,2)),s.setPosition(cc.v2(0,0)),i.lin4.name=e.name,i.lin4.addChild(s),i.onTempTouch(i.lin4),e.destroy(),i.dobackMove()},this,Nt),C=cc.moveTo(.1,cc.v2(ft,0)),f=cc.sequence(C,L);Nt.runAction(f)}this.backPaiList.remove(t)}if(4==t.type){var Nt;Nt=this.getVerticalIndexByString(t.name);var Tt=45+115*(t.to-t.from);switch(t.from){case 1:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put),cc.audioEngine.playEffect(i.put);var n=cc.instantiate(this.paiPrefab);n.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),n.setPosition(cc.v2(0,0)),i.lin1.name=s.name,i.lin1.addChild(n),i.onTempTouch(i.lin1),s.destroy(),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to)},this,Nt);var _t=this.node.convertToWorldSpaceAR(cc.v2(-411,233)),bt=this.node.convertToNodeSpaceAR(cc.v2(_t.x,_t.y));C=cc.moveTo(.1,bt),f=cc.sequence(C,L);Nt.runAction(f);break;case 2:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=cc.instantiate(this.paiPrefab);n.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),n.setPosition(cc.v2(0,0)),i.lin2.name=s.name,i.lin2.addChild(n),i.onTempTouch(i.lin2),s.destroy(),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to)},this,Nt),_t=this.node.convertToWorldSpaceAR(cc.v2(-299,233)),bt=this.node.convertToNodeSpaceAR(cc.v2(_t.x,_t.y)),C=cc.moveTo(.1,bt),f=cc.sequence(C,L);Nt.runAction(f);break;case 3:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=cc.instantiate(this.paiPrefab);n.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),n.setPosition(cc.v2(0,0)),i.lin3.name=s.name,i.lin3.addChild(n),i.onTempTouch(i.lin3),s.destroy(),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to)},this,Nt),_t=this.node.convertToWorldSpaceAR(cc.v2(-286,233)),bt=this.node.convertToNodeSpaceAR(cc.v2(_t.x,_t.y)),C=cc.moveTo(.1,bt),f=cc.sequence(C,L);Nt.runAction(f);break;case 4:L=cc.callFunc(function(e,s){cc.audioEngine.playEffect(i.put);var n=cc.instantiate(this.paiPrefab);n.getComponent("Card").initCard(s.name.charAt(2),s.name.substr(3,2)),n.setPosition(cc.v2(0,0)),i.lin4.name=s.name,i.lin4.addChild(n),i.onTempTouch(i.lin4),s.destroy(),this.removeVerticalIndex(this.getVerticalIndex(s),s),this.setNewLoaction(t.to)},this,Nt),_t=this.node.convertToWorldSpaceAR(cc.v2(-72,233)),bt=this.node.convertToNodeSpaceAR(cc.v2(_t.x,_t.y)),C=cc.moveTo(.1,bt),f=cc.sequence(C,L);Nt.runAction(f)}this.backPaiList.remove(t)}}}}),n(s,"doAgainBegin",function(){this.noway.active=!1,this.dodelete(),this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume,this.jishiqi()}),n(s,"newGameBegin",function(){this.noway.active=!1,this.dodelete(),this.gameNume=this.randomNum(1e4,1),this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume,this.jishiqi()}),n(s,"newRandBegin",function(){this.tishi.active=!1,this.dodelete(),this.gameNume=this.randomNum(1e4,1),this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume,this.jishiqi()}),n(s,"newGameButton",function(){if(this.onVerticalCardTouchOFF(),this.tishi.zIndex=9999,this.tishi.active=!0,this.gameNumeNode.active=!1,1==this.isBegin){for(var t=0;t<8;t++)for(var i=0;i<MAX_CARD_COUNT;i++){var e=this.GetImgIndex(TPaneData.m_Data[t][i]);console.log(","+TPaneData.m_Data[t][i])}for(t=0;t<8;t++){e=this.GetImgIndex(TPaneData.m_MidTo[t]);console.log(","+TPaneData.m_MidTo[t])}for(t=0;t<8;t++)for(i=0;i<MAX_CARD_COUNT;i++){e=this.GetImgIndex(TPaneData.m_Data[t][i]);console.log(","+TPaneData.m_Data[t][i]+"=====\u6bcf\u7ad6\u7684\u724c===="+this.bmpAllCards[e])}for(t=0;t<8;t++){e=this.GetImgIndex(TPaneData.m_MidTo[t]);console.log("===="+t+"#"+TPaneData.m_MidTo[t]+"==========="+this.bmpAllCards[e])}}}),n(s,"newGameCancel",function(){this.onVerticalCardTouch(),this.tishi.zIndex=9999,this.tishi.active=!1}),n(s,"newGameBeginBySting",function(){this.noway.active=!1,this.dodelete(),this.gameNume=this.tishi.getChildByName("newgamenum").getComponent(cc.EditBox).string,this.tishi.active=!1,this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume,this.unschedule(this.callbackjishiqi),this.jishiqi()}),n(s,"buttonNextCancel",function(){this.noway.active=!1}),n(s,"chongbutton",function(){this.chongwan.zIndex=9999,1==this.isBegin?(this.chongwan.active=!0,this.chongwan.getChildByName("chongwantishi").getComponent(cc.Label).string="\u5f53\u524d\u5c40\u672a\u5b8c\u6210\uff0c\u786e\u5b9a\u91cd\u73a9\u6b64\u5c40\uff1f"):(this.chongwan.active=!0,this.chongwan.getChildByName("chongwantishi").getComponent(cc.Label).string="\u6b64\u5c40\u5c1a\u672a\u5f00\u59cb")}),n(s,"chongwanQueding",function(){1==this.isBegin?(this.chongwan.active=!1,this.dodelete(),this.getBeginNum(this.gameNume),this.dealMove(),this.shownum.getChildByName("shownumtxt").getComponent(cc.Label).string="\u5f53\u524d\u5173\u5361:"+this.gameNume,this.unschedule(this.callbackjishiqi),this.jishiqi()):this.chongwan.active=!1}),n(s,"chongwanCancel",function(){this.chongwan.active=!1}),n(s,"dodelete",function(){this.isplay=!1,this.di1List=[],this.di2List=[],this.di3List=[],this.di4List=[],this.di5List=[],this.di6List=[],this.di7List=[],this.di8List=[],this.isBegin=!1;for(var t=0;t<this.allCard.length;t++)this.allCard[t].destroy();for(var i=9;i<this.diNoteGroup.childrenCount;i++)this.diNoteGroup.children[i].destroy();this.lin1.childrenCount>0&&this.lin1.children[0].destroy(),this.lin2.childrenCount>0&&this.lin2.children[0].destroy(),this.lin3.childrenCount>0&&this.lin3.children[0].destroy(),this.lin4.childrenCount>0&&this.lin4.children[0].destroy();for(var e=0;e<this.hui4.childrenCount;e++)this.hui4.children[e].destroy();for(var s=0;s<this.hui3.childrenCount;s++)this.hui3.children[s].destroy();for(var n=0;n<this.hui2.childrenCount;n++)this.hui2.children[n].destroy();for(var o=0;o<this.hui1.childrenCount;o++)this.hui1.children[o].destroy();this.step=0,this.backPaiList=[],this.allCard=[],this.m_DealGroupNum=0,this.m_DealGroupRow=0,this.m_DealCount=-1}),n(s,"cleanGroup",function(){this.di1List=[],this.di2List=[],this.di3List=[],this.di4List=[],this.di5List=[],this.di6List=[],this.di7List=[],this.di8List=[]}),n(s,"deleteAllCard",function(t){for(var i=0;i<this.allCard.length;i++)this.allCard[i].name==t.name&&(this.allCard[i].destroy(),this.allCard.remove(this.allCard[i]))}),n(s,"dealMove",function(){this.cardTopHeight=500/13,0==this.isplay&&(this.current=cc.audioEngine.play(this.anSound,!0,1)),this.isplay=!0;var t=cc.callFunc(this.finished,this);switch(this.m_DealGroupNum++,this.m_DealGroupNum>8&&(this.m_DealGroupNum=1,this.m_DealGroupRow++),this.m_DealGroupNum){case 1:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==0)){var i=this.diNoteGroup.children[0].getPosition();console.log("====\u79fb\u52a8\u4f4d\u7f6ex="+i.x+"=y="+i.y);var e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di1List.push(this.allCard[51-this.m_DealCount])}break;case 2:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==1)){i=this.diNoteGroup.children[1].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di2List.push(this.allCard[51-this.m_DealCount])}break;case 3:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==2)){i=this.diNoteGroup.children[2].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di3List.push(this.allCard[51-this.m_DealCount])}break;case 4:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==3)){i=this.diNoteGroup.children[3].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di4List.push(this.allCard[51-this.m_DealCount])}break;case 5:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==4)){i=this.diNoteGroup.children[4].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di5List.push(this.allCard[51-this.m_DealCount])}break;case 6:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==5)){i=this.diNoteGroup.children[5].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di6List.push(this.allCard[51-this.m_DealCount])}break;case 7:if(this.m_DealCount<51&&(this.m_DealCount++,this.m_DealCount%8==6)){i=this.diNoteGroup.children[6].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di7List.push(this.allCard[51-this.m_DealCount])}break;case 8:if(this.m_DealCount<52&&(this.m_DealCount++,this.m_DealCount%8==7)){i=this.diNoteGroup.children[7].getPosition(),e=cc.moveTo(.05,cc.v2(i.x,i.y-this.m_DealGroupRow*this.cardTopHeight)),s=cc.sequence(e,t);this.allCard[51-this.m_DealCount].zIndex=this.m_DealGroupRow,this.allCard[51-this.m_DealCount].runAction(s),this.di8List.push(this.allCard[51-this.m_DealCount])}}}),n(s,"finished",function(){this.m_DealCount>=51&&(cc.audioEngine.stop(this.current),this.onVerticalCardTouch()),this.dealMove()}),n(s,"DoCheckOverToEmpty",function(t){a.DoCheckOverToEmpty(t)}),n(s,"GetImgIndex",function(t){switch(t){case FREE_NONE:case FIRST_KING:case SECOND_KING:return-1;case HEI_TWO:return 0;case HONG_TWO:return 1;case MEI_TWO:return 2;case FANG_TWO:return 3;case HEI_THREE:return 4;case HONG_THREE:return 5;case MEI_THREE:return 6;case FANG_THREE:return 7;case HEI_FORE:return 8;case HONG_FORE:return 9;case MEI_FORE:return 10;case FANG_FORE:return 11;case HEI_FIVE:return 12;case HONG_FIVE:return 13;case MEI_FIVE:return 14;case FANG_FIVE:return 15;case HEI_SIX:return 16;case HONG_SIX:return 17;case MEI_SIX:return 18;case FANG_SIX:return 19;case HEI_SEVEN:return 20;case HONG_SEVEN:return 21;case MEI_SEVEN:return 22;case FANG_SEVEN:return 23;case HEI_EIGHT:return 24;case HONG_EIGHT:return 25;case MEI_EIGHT:return 26;case FANG_EIGHT:return 27;case HEI_NINE:return 28;case HONG_NINE:return 29;case MEI_NINE:return 30;case FANG_NINE:return 31;case HEI_TEN:return 32;case HONG_TEN:return 33;case MEI_TEN:return 34;case FANG_TEN:return 35;case HEI_ELEVEN:return 36;case HONG_ELEVEN:return 37;case MEI_ELEVEN:return 38;case FANG_ELEVEN:return 39;case HEI_TWELVE:return 40;case HONG_TWELVE:return 41;case MEI_TWELVE:return 42;case FANG_TWELVE:return 43;case HEI_THIRTEEN:return 44;case HONG_THIRTEEN:return 45;case MEI_THIRTEEN:return 46;case FANG_THIRTEEN:return 47;case HEI_A:return 48;case HONG_A:return 49;case MEI_A:return 50;case FANG_A:return 51}return-1}),n(s,"random",function(t,i){return t=t||1,i=i||0,Math.seed=(9301*Math.seed+49297)%233280,i+Math.seed/233280*(t-i)}),n(s,"randomNum",function(t,i){return Math.floor(Math.random()*(t-i+1)+i)}),n(s,"GetCARD",function(t,i){switch(t){case 0:switch(i){case 0:return MEI_A;case 1:return MEI_TWO;case 2:return MEI_THREE;case 3:return MEI_FORE;case 4:return MEI_FIVE;case 5:return MEI_SIX;case 6:return MEI_SEVEN;case 7:return MEI_EIGHT;case 8:return MEI_NINE;case 9:return MEI_TEN;case 10:return MEI_ELEVEN;case 11:return MEI_TWELVE;case 12:return MEI_THIRTEEN}break;case 1:switch(i){case 0:return FANG_A;case 1:return FANG_TWO;case 2:return FANG_THREE;case 3:return FANG_FORE;case 4:return FANG_FIVE;case 5:return FANG_SIX;case 6:return FANG_SEVEN;case 7:return FANG_EIGHT;case 8:return FANG_NINE;case 9:return FANG_TEN;case 10:return FANG_ELEVEN;case 11:return FANG_TWELVE;case 12:return FANG_THIRTEEN}break;case 2:switch(i){case 0:return HONG_A;case 1:return HONG_TWO;case 2:return HONG_THREE;case 3:return HONG_FORE;case 4:return HONG_FIVE;case 5:return HONG_SIX;case 6:return HONG_SEVEN;case 7:return HONG_EIGHT;case 8:return HONG_NINE;case 9:return HONG_TEN;case 10:return HONG_ELEVEN;case 11:return HONG_TWELVE;case 12:return HONG_THIRTEEN}break;case 3:switch(i){case 0:return HEI_A;case 1:return HEI_TWO;case 2:return HEI_THREE;case 3:return HEI_FORE;case 4:return HEI_FIVE;case 5:return HEI_SIX;case 6:return HEI_SEVEN;case 7:return HEI_EIGHT;case 8:return HEI_NINE;case 9:return HEI_TEN;case 10:return HEI_ELEVEN;case 11:return HEI_TWELVE;case 12:return HEI_THIRTEEN}}return FREE_NONE}),n(s,"getVerticalIndexByString",function(t){for(var i=0;i<this.di1List.length;i++){var e=this.di1List[i];if(t==e.name)return e}for(var s=0;s<this.di2List.length;s++){var n=this.di2List[s];if(t==n.name)return n}for(var o=0;o<this.di3List.length;o++){var a=this.di3List[o];if(t==a.name)return a}for(var h=0;h<this.di4List.length;h++){var c=this.di4List[h];if(t==c.name)return c}for(var r=0;r<this.di5List.length;r++){var d=this.di5List[r];if(t==d.name)return d}for(var l=0;l<this.di6List.length;l++){var u=this.di6List[l];if(t==u.name)return u}for(var m=0;m<this.di7List.length;m++){var g=this.di7List[m];if(t==g.name)return g}for(var p=0;p<this.di8List.length;p++){var v=this.di8List[p];if(t==v.name)return v}return 0}),s)),cc._RF.pop()},{FCCardNode:"FCCardNode",TFreeMange:"TFreeMange"}],Menu:[function(t,i,e){"use strict";cc._RF.push(i,"56614f7huhBp4bOW3ITK3uZ","Menu"),cc.Class({extends:cc.Component,properties:{},resize:function(){var t=cc.director.getWinSize();cc.view.setDesignResolutionSize(t.width,t.height,cc.ResolutionPolicy.EXACT_FIT)},onLoad:function(){},startGame:function(){},start:function(){var t=this.node.getComponent(cc.Graphics);t.rect(0,0,72.8,-901.5),t.fill()}}),cc._RF.pop()},{}],TFreeMange:[function(t,i,e){"use strict";cc._RF.push(i,"9e767LhAjpI2K2JNI/EaI/c","TFreeMange");t("FCCardNode");var s={m_backDatas:[],indexs:[],typnum:[],m_empixfrom:-1,m_empixto:-1,m_empiyfrom:-1,m_empiyto:-1,m_movecount:-1,m_wantmovecount:-1,m_canmovecount:0,m_selX:-1,m_selY:-1,m_BakData:null,tFreeMange:function(){this.indexs=new Array,this.typnum=new Array,this.m_backDatas=new Array,this.m_BakData=new TPaneData,this.m_BakData.m_CardCount=0;for(var t=0;t<8;t++){this.m_BakData.m_Data[t]=new Array;for(var i=0;i<MAX_CARD_COUNT;i++)this.m_BakData.m_Data[t][i]=new Array,this.m_BakData.m_Data[t][i]=FREE_NONE}this.m_selX=-1,this.m_selY=-1,this.m_empixfrom=-1,this.m_empixto=-1,this.m_empiyfrom=-1,this.m_empiyto=-1,this.m_movecount=-1,this.m_wantmovecount=-1,this.m_canmovecount=0;for(var e=0;e<BACK_LEN;e++)this.m_backDatas[e]=0},_tFreeMange:function(){for(var t=0;t<50;t++)this.BACK_LEN[t]},OnLButtonDown:function(t,i,e,s){this.m_selX=t,this.m_selY=i,this.CopyDataToBak();var n=this.MoveCard(e,s);return n>0&&this.CopyToBackList(),this.ClearSel(),n},CanMoveCount:function(){for(var t=1,i=0;i<4;i++)FREE_NONE==TPaneData.m_MidTo[i]&&t++;for(i=0;i<8;i++)0==this.GetCardCount(i)&&(t*=2);return t},MoveCard:function(t,i){this.m_wantmovecount=-1,this.m_canmovecount=0,i>0&&0==(i=this.GetCardCount(t))&&(i=1);var e=this.CanMove(this.m_selX,this.m_selY,t,i);if(e>0){if(0==i&&this.DoMove(this.m_selX,this.m_selY,t,i,1))return e;var s=this.CanMoveCount();return s<=0?0:0==this.GetCardCount(t)?(s/=2,this.m_empixfrom=this.m_selX,this.m_empiyfrom=this.m_selY,this.m_empixto=t,this.m_empiyto=i,this.m_canmovecount=s,this.m_wantmovecount=e,0):(this.m_canmovecount=s,this.m_wantmovecount=e,s>=e&&this.DoMove(this.m_selX,this.m_selY,t,i,e)?e:0)}return 0},GetSelCardAndClearSel:function(){var t=FREE_NONE;return 0==this.m_selY?(t=TPaneData.m_MidTo[m_selX],TPaneData.m_MidTo[m_selX]=FREE_NONE,this.m_selX=-1,this.m_selY=-1):(t=TPaneData.m_Data[this.m_selX][this.m_selY-1],TPaneData.m_Data[this.m_selX][this.m_selY-1]=FREE_NONE,this.m_selX=-1,this.m_selY=-1),t},DoMove:function(t,i,e,s,n){if(0!=s){if(0==i)return 0==this.GetCardCount(e)&&(TPaneData.m_Data[e][0]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE),!this.CanCardToCard(TPaneData.m_MidTo[t],TPaneData.m_Data[e][s-1])||(TPaneData.m_Data[e][s]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE,!0);var o=0;0==s||0==this.GetCardCount(e)?(o=this.CanListToCard(t,FREE_NONE),s=0):o=this.CanListToCard(t,TPaneData.m_Data[e][s-1]),o>n&&(o=n);for(var a=this.GetCardCount(t)-o,h=0;h<o;h++)TPaneData.m_Data[e][s+h]=TPaneData.m_Data[t][a+h],TPaneData.m_Data[t][a+h]=FREE_NONE;return!0}if(!(e<4)){FREE_NONE;if(0==i)TPaneData.m_MidTo[t];else{if(i<=0)return!1;TPaneData.m_Data[t][i-1]}return 0==i?(TPaneData.m_MidTo[e]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE):(TPaneData.m_MidTo[e]=TPaneData.m_Data[t][i-1],TPaneData.m_Data[t][i-1]=FREE_NONE),!0}return FREE_NONE==TPaneData.m_MidTo[e]&&(TPaneData.m_MidTo[e]=this.GetSelCardAndClearSel(),!0)},CanMove:function(t,i,e,s){if(0==s)if(e<4){if(FREE_NONE==TPaneData.m_MidTo[e])return 1}else{var n=FREE_NONE;if(0==i)n=TPaneData.m_MidTo[t];else{if(i<=0)return 0;n=TPaneData.m_Data[t][i-1]}if(FREE_NONE==TPaneData.m_MidTo[e]){if(1==(240&n)>>4)return 1}else if(this.CanCardToToCard(n,TPaneData.m_MidTo[e]))return 1}else{if(0!=i){return 0==s||0==this.GetCardCount(e)?this.CanListToCard(t,FREE_NONE):this.CanListToCard(t,TPaneData.m_Data[e][s-1])}if(0==this.GetCardCount(e))return 1;if(this.CanCardToCard(TPaneData.m_MidTo[t],TPaneData.m_Data[e][s-1]))return 1}return 0},CanListToCard:function(t,i){for(var e=this.GetCardCount(t),s=1,n=e-1;n>0&&this.CanCardToCard(TPaneData.m_Data[t][n],TPaneData.m_Data[t][n-1]);n--)s++;if(i==FREE_NONE)return s;var o=(240&TPaneData.m_Data[t][e-1])>>4,a=(240&i)>>4;if(!(a<=o+s))return 0;var h=a-o;if(h<0)return 0;var c=TPaneData.m_Data[t][e-h];if(this.IsRed(c)){if(!this.IsRed(i))return h}else if(this.IsRed(i))return h;return 0},IsRed:function(t){switch(15&t){case 2:case 4:return!0}return!1},CheckMoveListToEmpty:function(){return this.m_empixfrom>-1&&this.m_wantmovecount>0},CopyToBackList:function(){var t=this.GetBackListCount();t>=BACK_LEN&&(t=BACK_LEN-1);for(var i=t;i>0;i--)this.m_backDatas[i]=this.m_backDatas[i-1];var e=new TPaneData;e.m_CardCount=this.m_BakData.m_CardCount,e.m_MidTo=new Array,e.m_Data=new Array;for(var s=0;s<8;s++){e.m_MidTo[s]=this.m_BakData.m_MidTo[s],e.m_Data[s]=new Array;for(var n=0;n<MAX_CARD_COUNT;n++)e.m_Data[s][n]=this.m_BakData.m_Data[s][n]}this.m_backDatas[0]=e},GetBackListCount:function(){for(var t=0,i=0;i<BACK_LEN&&0!=this.m_backDatas[i];i++)t++;return t},CopyDataToBak:function(){this.m_BakData.m_CardCount=TPaneData.m_CardCount;for(var t=0;t<8;t++){this.m_BakData.m_MidTo[t]=TPaneData.m_MidTo[t];for(var i=0;i<MAX_CARD_COUNT;i++)this.m_BakData.m_Data[t][i]=TPaneData.m_Data[t][i]}},DoBack:function(){var t=this.GetBackListCount();if(console.log("DoBack===========\u8fd4\u56de\u64cd\u4f5c=="+t),t>0){TPaneData.m_CardCount=this.m_backDatas[0].m_CardCount;for(var i=0;i<8;i++){TPaneData.m_MidTo[i]=this.m_backDatas[0].m_MidTo[i];for(var e=0;e<MAX_CARD_COUNT;e++)TPaneData.m_Data[i][e]=this.m_backDatas[0].m_Data[i][e]}for(i=0;i<t-1;i++)this.m_backDatas[i]=this.m_backDatas[i+1];return this.m_backDatas[t-1]=0,!0}return!1},ClearSel:function(){this.m_selX=-1,this.m_selY=-1},AutoTo:function(){for(var t=0;t<4;t++)this.indexs[t]=0,this.typnum[t]=0;for(var i=4;i<8;i++)if(FREE_NONE!=TPaneData.m_MidTo[i]){var e=(240&TPaneData.m_MidTo[i])>>4;switch(15&TPaneData.m_MidTo[i]){case 1:0==this.indexs[0]&&(this.indexs[0]=i),this.typnum[0]=e;break;case 2:0==this.indexs[1]&&(this.indexs[1]=i),this.typnum[1]=e;break;case 3:0==this.indexs[2]&&(this.indexs[2]=i),this.typnum[2]=e;break;case 4:0==this.indexs[3]&&(this.indexs[3]=i),this.typnum[3]=e}}for(var s=0;s<8;s++){var n=this.GetCardCount(s);if(n>0&&this.CheckAutoCardAndDo(s,n,TPaneData.m_Data[s][n-1]))return!0}for(s=0;s<4;s++)if(this.CheckAutoCardAndDo(s,0,TPaneData.m_MidTo[s]))return!0;return!1},GetCardCount:function(t){for(var i=0,e=0;e<MAX_CARD_COUNT&&TPaneData.m_Data[t][e]!=FREE_NONE;e++)i++;return i},GetSpaceTo:function(){for(var t=4;t<8;t++)if(FREE_NONE==TPaneData.m_MidTo[t])return t},CheckAutoCardAndDo:function(t,i,e){var s=(240&e)>>4,n=15&e;if(1==s){var o=this.GetSpaceTo();return 0==i?(TPaneData.m_MidTo[o]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE):(TPaneData.m_MidTo[o]=TPaneData.m_Data[t][i-1],TPaneData.m_Data[t][i-1]=FREE_NONE),!0}if(2==s)return 0!=this.indexs[n-1]&&(0==i?(TPaneData.m_MidTo[this.indexs[n-1]]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE):(TPaneData.m_MidTo[this.indexs[n-1]]=TPaneData.m_Data[t][i-1],TPaneData.m_Data[t][i-1]=FREE_NONE),!0);switch(n){case 1:case 3:if(1==n&&this.typnum[0]!=s-1)return!1;if(3==n&&this.typnum[2]!=s-1)return!1;if(s<=this.typnum[1]+1&&s<=this.typnum[3]+1)return 0==i?(TPaneData.m_MidTo[this.indexs[n-1]]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE):(TPaneData.m_MidTo[this.indexs[n-1]]=TPaneData.m_Data[t][i-1],TPaneData.m_Data[t][i-1]=FREE_NONE),!0;break;case 2:case 4:if(2==n&&this.typnum[1]!=s-1)return!1;if(4==n&&this.typnum[3]!=s-1)return!1;if(s<=this.typnum[2]+1&&s<=this.typnum[0]+1)return 0==i?(TPaneData.m_MidTo[this.indexs[n-1]]=TPaneData.m_MidTo[t],TPaneData.m_MidTo[t]=FREE_NONE):(TPaneData.m_MidTo[this.indexs[n-1]]=TPaneData.m_Data[t][i-1],TPaneData.m_Data[t][i-1]=FREE_NONE),!0}return!1},IsSucceed:function(){for(var t=4;t<8;t++){var i=(240&TPaneData.m_MidTo[t])>>4;TPaneData.m_MidTo[t];if(13!=i)return!1}return!0},IsNoWay:function(){for(var t=new Array,i=0;i<8;i++)if(t[i]=this.GetCardCount(i),0==t[i])return!1;for(var e=0;e<4;e++)if(FREE_NONE==TPaneData.m_MidTo[e])return!1;for(var s=0;s<4;s++){for(var n=4;n<8;n++)if(this.CanCardToToCard(TPaneData.m_MidTo[s],TPaneData.m_MidTo[n]))return!1;for(n=0;n<8;n++)if(this.CanCardToCard(TPaneData.m_MidTo[s],TPaneData.m_Data[n][t[n]-1]))return!1}for(var o=0;o<8;o++)for(var a=0;a<8;a++)if(o!=a&&this.CanCardToCard(TPaneData.m_Data[o][t[o]-1],TPaneData.m_Data[a][t[a]-1]))return!1;for(var h=0;h<8;h++)for(var c=4;c<8;c++)if(this.CanCardToToCard(TPaneData.m_Data[h][t[h]-1],TPaneData.m_MidTo[c]))return!1;return!0},CanCardToToCard:function(t,i){return((240&t)>>4)-1==(240&i)>>4&&(15&t)==(15&i)},CanCardToCard:function(t,i){return((240&t)>>4)+1==(240&i)>>4&&(this.IsRed(t)?!this.IsRed(i):this.IsRed(i))},NoListCanMoveCount:function(){for(var t=1,i=0;i<4;i++)FREE_NONE==TPaneData.m_MidTo[i]&&t++;return t},DoCheckOverToEmpty:function(t){if(this.CopyDataToBak(),t){var i=this.NoListCanMoveCount();if(console.log("DoCheckOverToEmpty111111111111= this.m_canmovecount="+this.m_canmovecount+"nn="+i),this.m_canmovecount>i&&(this.m_canmovecount=i),this.DoMove(this.m_empixfrom,this.m_empiyfrom,this.m_empixto,this.m_empiyto,this.m_canmovecount))return this.CopyToBackList(),this.m_empixfrom=-1,this.m_canmovecount}else if(this.DoMove(this.m_empixfrom,this.m_empiyfrom,this.m_empixto,this.m_empiyto,1))return this.CopyToBackList(),this.m_empixfrom=-1,1;return this.m_empixfrom=-1,0}};i.exports=s,cc._RF.pop()},{FCCardNode:"FCCardNode"}]},{},["Card","FCCardNode","Game","Gamefull","Menu","TFreeMange"]);